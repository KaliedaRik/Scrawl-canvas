<!DOCTYPE html>

<html>
<head>
  <title>Filter factory</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="../core/animation-loop.html">
                  ./source/core/animation-loop.js
                </a>
              
                
                <a class="source" href="../core/display-cycle.html">
                  ./source/core/display-cycle.js
                </a>
              
                
                <a class="source" href="../core/document-root-elements.html">
                  ./source/core/document-root-elements.js
                </a>
              
                
                <a class="source" href="../core/document.html">
                  ./source/core/document.js
                </a>
              
                
                <a class="source" href="../core/events.html">
                  ./source/core/events.js
                </a>
              
                
                <a class="source" href="../core/init.html">
                  ./source/core/init.js
                </a>
              
                
                <a class="source" href="../core/library.html">
                  ./source/core/library.js
                </a>
              
                
                <a class="source" href="../core/random-seed.html">
                  ./source/core/random-seed.js
                </a>
              
                
                <a class="source" href="../core/shared-vars.html">
                  ./source/core/shared-vars.js
                </a>
              
                
                <a class="source" href="../core/snippets.html">
                  ./source/core/snippets.js
                </a>
              
                
                <a class="source" href="../core/system-flags.html">
                  ./source/core/system-flags.js
                </a>
              
                
                <a class="source" href="../core/user-interaction.html">
                  ./source/core/user-interaction.js
                </a>
              
                
                <a class="source" href="../core/utilities.html">
                  ./source/core/utilities.js
                </a>
              
                
                <a class="source" href="action.html">
                  ./source/factory/action.js
                </a>
              
                
                <a class="source" href="anchor.html">
                  ./source/factory/anchor.js
                </a>
              
                
                <a class="source" href="animation.html">
                  ./source/factory/animation.js
                </a>
              
                
                <a class="source" href="array-pool.html">
                  ./source/factory/array-pool.js
                </a>
              
                
                <a class="source" href="bezier.html">
                  ./source/factory/bezier.js
                </a>
              
                
                <a class="source" href="block.html">
                  ./source/factory/block.js
                </a>
              
                
                <a class="source" href="canvas.html">
                  ./source/factory/canvas.js
                </a>
              
                
                <a class="source" href="cell-fragment.html">
                  ./source/factory/cell-fragment.js
                </a>
              
                
                <a class="source" href="cell.html">
                  ./source/factory/cell.js
                </a>
              
                
                <a class="source" href="cog.html">
                  ./source/factory/cog.js
                </a>
              
                
                <a class="source" href="color.html">
                  ./source/factory/color.js
                </a>
              
                
                <a class="source" href="conic-gradient.html">
                  ./source/factory/conic-gradient.js
                </a>
              
                
                <a class="source" href="coordinate.html">
                  ./source/factory/coordinate.js
                </a>
              
                
                <a class="source" href="crescent.html">
                  ./source/factory/crescent.js
                </a>
              
                
                <a class="source" href="drag-zone.html">
                  ./source/factory/drag-zone.js
                </a>
              
                
                <a class="source" href="element.html">
                  ./source/factory/element.js
                </a>
              
                
                <a class="source" href="emitter.html">
                  ./source/factory/emitter.js
                </a>
              
                
                <a class="source" href="filter-engine-bluenoise-data.html">
                  ./source/factory/filter-engine-bluenoise-data.js
                </a>
              
                
                <a class="source" href="filter-engine.html">
                  ./source/factory/filter-engine.js
                </a>
              
                
                <a class="source" href="filter.html">
                  ./source/factory/filter.js
                </a>
              
                
                <a class="source" href="font-attributes.html">
                  ./source/factory/font-attributes.js
                </a>
              
                
                <a class="source" href="gradient.html">
                  ./source/factory/gradient.js
                </a>
              
                
                <a class="source" href="grid.html">
                  ./source/factory/grid.js
                </a>
              
                
                <a class="source" href="group.html">
                  ./source/factory/group.js
                </a>
              
                
                <a class="source" href="image-asset.html">
                  ./source/factory/image-asset.js
                </a>
              
                
                <a class="source" href="keyboard-zone.html">
                  ./source/factory/keyboard-zone.js
                </a>
              
                
                <a class="source" href="line-spiral.html">
                  ./source/factory/line-spiral.js
                </a>
              
                
                <a class="source" href="line.html">
                  ./source/factory/line.js
                </a>
              
                
                <a class="source" href="loom.html">
                  ./source/factory/loom.js
                </a>
              
                
                <a class="source" href="mesh.html">
                  ./source/factory/mesh.js
                </a>
              
                
                <a class="source" href="net.html">
                  ./source/factory/net.js
                </a>
              
                
                <a class="source" href="noise-asset.html">
                  ./source/factory/noise-asset.js
                </a>
              
                
                <a class="source" href="observe-update.html">
                  ./source/factory/observe-update.js
                </a>
              
                
                <a class="source" href="oval.html">
                  ./source/factory/oval.js
                </a>
              
                
                <a class="source" href="palette.html">
                  ./source/factory/palette.js
                </a>
              
                
                <a class="source" href="particle-force.html">
                  ./source/factory/particle-force.js
                </a>
              
                
                <a class="source" href="particle-history.html">
                  ./source/factory/particle-history.js
                </a>
              
                
                <a class="source" href="particle-spring.html">
                  ./source/factory/particle-spring.js
                </a>
              
                
                <a class="source" href="particle-world.html">
                  ./source/factory/particle-world.js
                </a>
              
                
                <a class="source" href="particle.html">
                  ./source/factory/particle.js
                </a>
              
                
                <a class="source" href="pattern.html">
                  ./source/factory/pattern.js
                </a>
              
                
                <a class="source" href="phrase.html">
                  ./source/factory/phrase.js
                </a>
              
                
                <a class="source" href="picture.html">
                  ./source/factory/picture.js
                </a>
              
                
                <a class="source" href="polygon.html">
                  ./source/factory/polygon.js
                </a>
              
                
                <a class="source" href="polyline.html">
                  ./source/factory/polyline.js
                </a>
              
                
                <a class="source" href="quadratic.html">
                  ./source/factory/quadratic.js
                </a>
              
                
                <a class="source" href="quaternion.html">
                  ./source/factory/quaternion.js
                </a>
              
                
                <a class="source" href="radial-gradient.html">
                  ./source/factory/radial-gradient.js
                </a>
              
                
                <a class="source" href="raw-asset.html">
                  ./source/factory/raw-asset.js
                </a>
              
                
                <a class="source" href="reaction-diffusion-asset.html">
                  ./source/factory/reaction-diffusion-asset.js
                </a>
              
                
                <a class="source" href="rectangle.html">
                  ./source/factory/rectangle.js
                </a>
              
                
                <a class="source" href="render-animation.html">
                  ./source/factory/render-animation.js
                </a>
              
                
                <a class="source" href="shape.html">
                  ./source/factory/shape.js
                </a>
              
                
                <a class="source" href="spiral.html">
                  ./source/factory/spiral.js
                </a>
              
                
                <a class="source" href="sprite-asset.html">
                  ./source/factory/sprite-asset.js
                </a>
              
                
                <a class="source" href="stack.html">
                  ./source/factory/stack.js
                </a>
              
                
                <a class="source" href="star.html">
                  ./source/factory/star.js
                </a>
              
                
                <a class="source" href="state.html">
                  ./source/factory/state.js
                </a>
              
                
                <a class="source" href="tetragon.html">
                  ./source/factory/tetragon.js
                </a>
              
                
                <a class="source" href="ticker.html">
                  ./source/factory/ticker.js
                </a>
              
                
                <a class="source" href="tracer.html">
                  ./source/factory/tracer.js
                </a>
              
                
                <a class="source" href="tween.html">
                  ./source/factory/tween.js
                </a>
              
                
                <a class="source" href="unstacked-element.html">
                  ./source/factory/unstacked-element.js
                </a>
              
                
                <a class="source" href="vector.html">
                  ./source/factory/vector.js
                </a>
              
                
                <a class="source" href="video-asset.html">
                  ./source/factory/video-asset.js
                </a>
              
                
                <a class="source" href="wheel.html">
                  ./source/factory/wheel.js
                </a>
              
                
                <a class="source" href="../mixin/anchor.html">
                  ./source/mixin/anchor.js
                </a>
              
                
                <a class="source" href="../mixin/asset-advanced-functionality.html">
                  ./source/mixin/asset-advanced-functionality.js
                </a>
              
                
                <a class="source" href="../mixin/asset-consumer.html">
                  ./source/mixin/asset-consumer.js
                </a>
              
                
                <a class="source" href="../mixin/asset.html">
                  ./source/mixin/asset.js
                </a>
              
                
                <a class="source" href="../mixin/base.html">
                  ./source/mixin/base.js
                </a>
              
                
                <a class="source" href="../mixin/cascade.html">
                  ./source/mixin/cascade.js
                </a>
              
                
                <a class="source" href="../mixin/cell-key-functions.html">
                  ./source/mixin/cell-key-functions.js
                </a>
              
                
                <a class="source" href="../mixin/delta.html">
                  ./source/mixin/delta.js
                </a>
              
                
                <a class="source" href="../mixin/display-shape.html">
                  ./source/mixin/display-shape.js
                </a>
              
                
                <a class="source" href="../mixin/dom.html">
                  ./source/mixin/dom.js
                </a>
              
                
                <a class="source" href="../mixin/entity.html">
                  ./source/mixin/entity.js
                </a>
              
                
                <a class="source" href="../mixin/filter.html">
                  ./source/mixin/filter.js
                </a>
              
                
                <a class="source" href="../mixin/mimic.html">
                  ./source/mixin/mimic.js
                </a>
              
                
                <a class="source" href="../mixin/path.html">
                  ./source/mixin/path.js
                </a>
              
                
                <a class="source" href="../mixin/pattern.html">
                  ./source/mixin/pattern.js
                </a>
              
                
                <a class="source" href="../mixin/pivot.html">
                  ./source/mixin/pivot.js
                </a>
              
                
                <a class="source" href="../mixin/position.html">
                  ./source/mixin/position.js
                </a>
              
                
                <a class="source" href="../mixin/shape-basic.html">
                  ./source/mixin/shape-basic.js
                </a>
              
                
                <a class="source" href="../mixin/shape-curve.html">
                  ./source/mixin/shape-curve.js
                </a>
              
                
                <a class="source" href="../mixin/shape-path-calculation.html">
                  ./source/mixin/shape-path-calculation.js
                </a>
              
                
                <a class="source" href="../mixin/styles.html">
                  ./source/mixin/styles.js
                </a>
              
                
                <a class="source" href="../mixin/tween.html">
                  ./source/mixin/tween.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-1">&#x00a7;</a>
              </div>
              <h1 id="filter-factory">Filter factory</h1>
<p>Filters take in an image representation of an <a href="../mixin/entity.html">entity</a>, <a href="./group.html">Group</a> of entitys or a <a href="./cell.html">Cell</a> display and, by manipulating the image’s data, return an updated image which replaces those entitys or Cell in the final output display.</p>
<p>Scrawl-canvas defines its filters in <strong>Filter objects</strong>, detailed in this module. The functionality to make use of these objects is coded up in the <a href="../mixin/filter.html">filter mixin</a>, which is used by the Cell, Group and all entity factories.</p>
<p>The Scrawl-canvas filter engine implements a number of common filter algorithms. These algorithms - <strong>called filter actions</strong> - can be combined in a wide variety of ways, including the use of multiple pathways, to create complex filter results.</p>
<h4 id="filter-engine-actions">Filter engine actions</h4>
<p><code>alpha-to-channels</code> - Copies the alpha channel value over to the selected value or, alternatively, sets that channels value to zero, or leaves the channel’s value unchanged. Setting the appropriate “includeChannel” flags will copy the alpha channel value to that channel; when that flag is false, setting the appropriate “excludeChannel” flag will set that channel’s value to zero. Object attributes: <code>action, lineIn, lineOut, opacity, includeRed, includeGreen, includeBlue, excludeRed, excludeGreen, excludeBlue</code>.</p>
<p><code>area-alpha</code> - Places a tile schema across the input, quarters each tile and then sets the alpha channels of the pixels in selected quarters of each tile to values set in the <code>areaAlphaLevels</code> array. Can be used to create horizontal or vertical bars, or chequerboard effects. Object attributes: <code>action, lineIn, lineOut, opacity, tileWidth, tileHeight, offsetX, offsetY, gutterWidth, gutterHeight, areaAlphaLevels</code>.</p>
<p><code>average-channels</code> - Calculates an average value from each pixel’s included channels and applies that value to all channels that have not been specifically excluded; excluded channels have their values set to 0. Object attributes: <code>action, lineIn, lineOut, opacity, includeRed, includeGreen, includeBlue, excludeRed, excludeGreen, excludeBlue</code>.</p>
<p><code>binary</code> - DEPRECATED - functionality moved over to <code>threshold</code>.</p>
<p><code>blend</code> - Using two source images (from the “lineIn” and “lineMix” arguments), combine their color information using various separable and non-separable blend modes (as defined by the W3C Compositing and Blending Level 1 recommendations). The blending method is determined by the String value supplied in the <code>blend</code> argument; permitted values are: ‘color-burn’, ‘color-dodge’, ‘darken’, ‘difference’, ‘exclusion’, ‘hard-light’, ‘lighten’, ‘lighter’, ‘multiply’, ‘overlay’, ‘screen’, ‘soft-light’, ‘color’, ‘hue’, ‘luminosity’, and ‘saturation’. Note that the source images may be of different sizes: the output (lineOut) image size will be the same as the source (NOT lineIn) image; the lineMix image can be moved relative to the lineIn image using the “offsetX” and “offsetY” arguments. Object attributes: <code>action, lineIn, lineOut, lineMix, opacity, blend, offsetX, offsetY</code>.</p>
<p><code>blur</code> - Performs a multi-loop, two-step ‘horizontal-then-vertical averaging sweep’ calculation across all pixels to create a blur effect. Note that this filter is expensive, thus much slower to complete compared to other filter effects. Object attributes: <code>action, lineIn, lineOut, opacity, radius, passes, processVertical, processHorizontal, includeRed, includeGreen, includeBlue, includeAlpha, step</code>.</p>
<p><code>channels-to-alpha</code> - Calculates an average value from each pixel’s included channels and applies that value to the alpha channel. Object attributes: <code>action, lineIn, lineOut, opacity, includeRed, includeGreen, includeBlue</code>.</p>
<p><code>chroma</code> - A chroma-key effect. Using an array of ‘range’ color arrays, determine whether a pixel’s values lie entirely within a range’s values and, if true, sets that pixel’s alpha channel value to zero. Each ‘range’ color array comprises six Numbers representing [minimum-red, minimum-green, minimum-blue, maximum-red, maximum-green, maximum-blue] values. Object attributes: <code>action, lineIn, lineOut, opacity, ranges</code>.</p>
<p><code>clamp-channels</code> - Clamp each color channel to a range set by lowColor and highColor values. Object attributes: <code>action, lineIn, lineOut, opacity, lowRed, lowGreen, lowBlue, highRed, highGreen, highBlue</code>.</p>
<p><code>colors-to-alpha</code> - A chroma-key effect. Determine the alpha channel value for each pixel depending on the closeness to that pixel’s color channel values to a reference color supplied in the “red”, “green” and “blue” arguments. The sensitivity of the effect can be manipulated using the “transparentAt” and “opaqueAt” values, both of which lie in the range 0-1. Object attributes: <code>action, lineIn, lineOut, opacity, red, green, blue, opaqueAt, transparentAt</code>; pseudo-arguments for the convenience method include <code>reference</code> - any valid CSS color string from which the channel values will be calculated.</p>
<p><code>compose</code> - Using two source images (from the “lineIn” and “lineMix” arguments), combine their color information using alpha compositing rules (as defined by Porter/Duff). The compositing method is determined by the String value supplied in the “compose” argument; permitted values are: ‘destination-only’, ‘destination-over’, ‘destination-in’, ‘destination-out’, ‘destination-atop’, ‘source-only’, ‘source-over’ (default), ‘source-in’, ‘source-out’, ‘source-atop’, ‘clear’, ‘xor’, or ‘lighter’. Note that the source images may be of different sizes: the output (lineOut) image size will be the same as the source (NOT lineIn) image; the lineMix image can be moved relative to the lineIn image using the “offsetX” and “offsetY” arguments. Object attributes: <code>action, lineIn, lineOut, lineMix, opacity, compose, offsetX, offsetY</code>.</p>
<p><code>corrode</code> - Performs a special form of matrix operation on each pixel’s color and alpha channels, calculating the new value using neighbouring pixel values. Note that this filter is expensive, thus much slower to complete compared to other filter effects. The matrix dimensions can be set using the “width” and “height” arguments, while setting the home pixel’s position within the matrix can be set using the “offsetX” and “offsetY” arguments. The operation will set the pixel’s channel value to match either the ‘lowest’, ‘highest’ or ‘average’ (default) values as dictated by its neighbours - this value is set in the “level” attribute. Channels can be selected by setting the “includeRed”, “includeGreen”, “includeBlue” (all false by default) and “includeAlpha” (default: true) flags. Object attributes: <code>action, lineIn, lineOut, opacity, includeRed, includeGreen, includeBlue, includeAlpha, width, height, offsetX, offsetY, operation</code>.</p>
<p><code>displace</code> - Shift pixels around the image, based on the values supplied in a displacement process-image. Common source images can be generated from the various Noise assets, though any image will create an effect. Object attributes: <code>action, lineIn, lineOut, lineMix, opacity, channelX, channelY, scaleX, scaleY, transparentEdges, offsetX, offsetY</code>.</p>
<p><code>emboss</code> - A 3x3 matrix transform; the matrix weights are calculated internally from the values of two arguments: “strength”, and “angle” - which is a value measured in degrees, with 0 degrees pointing to the right of the origin (along the positive x axis). Post-processing options include removing unchanged pixels, or setting then to mid-gray. The convenience method includes additional arguments which will add a choice of grayscale, then channel clamping, then blurring actions before passing the results to this emboss action. Object attributes: <code>action, lineIn, lineOut, opacity, strength, angle, tolerance, keepOnlyChangedAreas, postProcessResults</code>; pseudo-arguments for the convenience method include <code>useNaturalGrayscale, clamp, smoothing</code>.</p>
<p><code>flood</code> - Set all pixels to the channel values supplied in the “red”, “green”, “blue” and “alpha” arguments. Object attributes: <code>action, lineIn, lineOut, opacity, red, green, blue, alpha</code>; pseudo-arguments for the convenience method include <code>reference</code> - any valid CSS color string from which the channel values will be calculated.</p>
<p><code>gaussianblur</code> - a fast linear gaussian blur algorithm taken from this GitHub repository: <a href="https://github.com/nodeca/glur/blob/master/index.js">https://github.com/nodeca/glur/blob/master/index.js</a> (code accessed 1 June 2021). Object attributes: <code>action, lineIn, lineOut, opacity, radius</code>.</p>
<p><code>glitch</code> - CRT television/monitor glitching effect - shifts rows horizontally by a random amount (mediated by limits). Object attributes: <code>action, lineIn, lineOut, opacity, useMixedChannel, seed, step, offsetMin, offsetMax, offsetRedMin, offsetRedMax, offsetGreenMin, offsetGreenMax, offsetBlueMin, offsetBlueMax, offsetAlphaMin, offsetAlphaMax, transparentEdges, level</code>.</p>
<p><code>grayscale</code> - For each pixel, averages the weighted color channels and applies the result across all the color channels. This gives a more realistic monochrome effect. Object attributes: <code>action, lineIn, lineOut, opacity</code>.</p>
<p><code>invert-channels</code> - For each pixel, subtracts its current channel values - when included - from 255. Object attributes: <code>action, lineIn, lineOut, opacity, includeRed, includeGreen, includeBlue, includeAlpha</code>.</p>
<p><code>lock-channels-to-levels</code> - Produces a posterize effect. Takes in four arguments - “red”, “green”, “blue” and “alpha” - each of which is an Array of zero or more integer Numbers (between 0 and 255). The filter works by looking at each pixel’s channel value and determines which of the corresponding Array’s Number values it is closest to; it then sets the channel value to that Number value. Object attributes: <code>action, lineIn, lineOut, opacity, red, green, blue, alpha</code>.</p>
<p><code>map-to-gradient</code> - maps the colors in the supplied (complex) gradient to a grayscaled input. Object attributes: <code>action, lineIn, lineOut, opacity, useNaturalGrayscale, gradient</code>.</p>
<p><code>matrix</code> - Performs a matrix operation on each pixel’s channels, calculating the new value using neighbouring pixel weighted values. Also known as a convolution matrix, kernel or mask operation. Note that this filter is expensive, thus much slower to complete compared to other filter effects. The matrix dimensions can be set using the “width” and “height” arguments, while setting the home pixel’s position within the matrix can be set using the “offsetX” and “offsetY” arguments. The weights to be applied need to be supplied in the “weights” argument - an Array listing the weights row-by-row starting from the top-left corner of the matrix. By default all color channels are included in the calculations while the alpha channel is excluded. The ‘edgeDetect’, ‘emboss’ and ‘sharpen’ convenience filter methods all use the matrix action, pre-setting the required weights. Object attributes: <code>action, lineIn, lineOut, opacity, includeRed, includeGreen, includeBlue, includeAlpha, width, height, offsetX, offsetY, weights</code>.</p>
<p><code>modulate-channels</code> - Multiplies each channel’s value by the supplied argument value. A channel-argument’s value of ‘0’ will set that channel’s value to zero; a value of ‘1’ will leave the channel value unchanged. If the “saturation” flag is set to ‘true’ the calculation changes to start at the color range mid point. The ‘brightness’ and ‘saturation’ filters are special forms of the ‘channels’ filter which use a single “levels” argument to set all three color channel arguments to the same value. Object attributes: <code>action, lineIn, lineOut, opacity, red, green, blue, alpha, saturation</code>; pseudo-argument: <code>level</code></p>
<p><code>offset</code> - Offset the input image in the output image. Object attributes: <code>action, lineIn, lineOut, opacity, offsetRedX, offsetRedY, offsetGreenX, offsetGreenY, offsetBlueX, offsetBlueY, offsetAlphaX, offsetAlphaY; pseudo-argument: offsetX, offsetY</code>.</p>
<p><code>pixelate</code> - Pixelizes the input image by creating a grid of tiles across it and then averaging the color values of each pixel in a tile and setting its value to the average. Tile width and height, and their offset from the top left corner of the image, are set via the “tileWidth”, “tileHeight”, “offsetX” and “offsetY” arguments. Object attributes: <code>action, lineIn, lineOut, opacity, tileWidth, tileHeight, offsetX, offsetY, includeRed, includeGreen, includeBlue, includeAlpha</code>.</p>
<p><code>process-image</code> - Add an asset image to the filter process chain. The asset - the String name of the asset object - must be pre-loaded before it can be included in the filter. The “width” and “height” arguments are measured in integer Number pixels; the “copy” arguments can be either percentage Strings (relative to the asset’s natural dimensions) or absolute Number values (in pixels). The “lineOut” argument is required - be aware that the filter action does not check for any pre-existing assets cached under this name and, if they exist, will overwrite them with this asset’s data. Object attributes: <code>action, lineOut, asset, width, height, copyWidth, copyHeight, copyX, copyY</code>.</p>
<p><code>reduce-palette</code> - Reduce the number of colors in an image palette. The palette attribute can be: a Number (for the commonest colors); an Array of CSS color Strings to use as the palette; or the String name of a pre-defined palette - default: ‘black-white’. All internal color comparisons to match pixels to the closest palette color happen in the LAB color space. Dithering is applied to select the closest, or second closest, color when setting each pixel’s final output color; dithering can be random (default), or blue-noise. When calculating commonest colors, a minimum color distance can be set to get a better representative spread for images which have a predominant color (eg: images containing sky, clouds, vegetation or a plain background); calculating the commonest colors can take place in either the RGB space, or the LAB space. The Object attributes: <code>action, lineIn, lineOut, lineMix, opacity, palette, useBluenoise, minimumColorDistance, useLabForPaletteDistance</code>.</p>
<p><code>set-channel-to-level</code> - Sets the value of each pixel’s included channel to the value supplied in the “level” argument. Object attributes: <code>action, lineIn, lineOut, opacity, includeRed, includeGreen, includeBlue, includeAlpha, level</code>.</p>
<p><code>step-channels</code> - Takes three divisor values - “red”, “green”, “blue”. For each pixel, its color channel values are divided by the corresponding color divisor, rounded down or up to the integer value and then multiplied by the divisor. For example a divisor value of ‘50’ applied to a channel value of ‘120’ will give a result of ‘100’ (if clamp is set to “down” or “round”) or ‘150’ (clamp set to “up”). The output is a form of posterization. Object attributes: <code>action, lineIn, lineOut, opacity, red, green, blue, clamp</code>.</p>
<p><code>swirl</code> - For each pixel, move the pixel radially according to its distance from a given coordinate and associated angle for that coordinate. Object attributes: <code>action, lineIn, lineOut, opacity, swirls (array of arrays)</code>; pseudo-arguments (for one swirl): startX, startY, innerRadius, outerRadius, angle, easing, staticSwirls`. Note that the start paramenters can be absolute (Number) or relative (String) values, with values relative to the host Cell’s dimensions; inner and outer radius values can also be Strings relative to the host Cell’s width. Supported easing values are included in demo Filters-026.</p>
<p><code>threshold</code> - Grayscales the input then, for each pixel, checks the color channel values against a “level” argument: pixels with channel values above the level value are assigned to the ‘high’ color; otherwise they are updated to the ‘low’ color. The “high” and “low” arguments are [red, green, blue] integer Number Arrays. The convenience function will accept the pseudo-attributes “highRed”, “lowRed” etc in place of the “high” and “low” Arrays. Object attributes: <code>action, lineIn, lineOut, opacity, low, high; pseudo-arguments: lowRed, lowGreen, lowBlue, highRed, highGreen, highBlue</code>; this filter also accepts <code>lowColor</code> and <code>highColor</code> pseudo-attributes - CSS color Strings in place of the <code>lowRed, lowGreen, lowBlue, highRed, highGreen, highBlue</code> values.</p>
<p><code>tint-channels</code> - Has similarities to the SVG <feColorMatrix> filter element, but excludes the alpha channel from calculations. Rather than set a matrix, we set nine arguments to determine how the value of each color channel in a pixel will affect both itself and its fellow color channels. The ‘sepia’ convenience filter presets these values to create a sepia effect. Object attributes: <code>action, lineIn, lineOut, opacity, redInRed, redInGreen, redInBlue, greenInRed, greenInGreen, greenInBlue, blueInRed, blueInGreen, blueInBlue</code>; pseudo-arguments for the convenience method include <code>reference</code> - any valid CSS color string from which the channel values will be calculated; pseudo-arguments for the convenience method include <code>redColor, greenColor, blueColor</code> - any valid CSS color string from which the rgbIn values will be calculated.</p>
<p><code>user-defined-legacy</code> - Previous to Scrawl-canvas version 8.4.0, filters could be defined with an argument which passed a function string to a filter web worker, which the worker would then run against the source input image as-and-when required. This functionality has been removed from the new filter system. All such filters will now return the input image unchanged. Object attributes: <code>action, lineIn, lineOut, opacity</code>.</p>
<p><code>vary-channels-by-weights</code> - curves filter (for image processing tonality). The weights array must by 1024 elements long, with each element defaulting to a value of <code>1.0</code>. Object attributes: <code>action, lineIn, lineOut, opacity, weights, useMixedChannel</code>.</p>
<pre><code><span class="hljs-comment">// Example: the following code creates a filter that applies a thick red border around the entitys </span>
<span class="hljs-comment">// it is applied to; if used on a group then it will outline the outside of the group&#x27;s entitys, </span>
<span class="hljs-comment">// ignoring overlaps between entitys:</span>
scrawl.<span class="hljs-title function_">makeFilter</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;redBorder&#x27;</span>,
    <span class="hljs-attr">actions</span>: [
        {
            <span class="hljs-attr">action</span>: <span class="hljs-string">&#x27;blur&#x27;</span>,
            <span class="hljs-attr">lineIn</span>: <span class="hljs-string">&#x27;source-alpha&#x27;</span>,
            <span class="hljs-attr">lineOut</span>: <span class="hljs-string">&#x27;shadow&#x27;</span>,
            <span class="hljs-attr">radius</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">passes</span>: <span class="hljs-number">2</span>, 
            <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">false</span>, 
            <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">false</span>, 
            <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">false</span>, 
            <span class="hljs-attr">includeAlpha</span>: <span class="hljs-literal">true</span>, 
        },
        {
            <span class="hljs-attr">action</span>: <span class="hljs-string">&#x27;binary&#x27;</span>,
            <span class="hljs-attr">lineIn</span>: <span class="hljs-string">&#x27;shadow&#x27;</span>,
            <span class="hljs-attr">lineOut</span>: <span class="hljs-string">&#x27;shadow&#x27;</span>,
            <span class="hljs-attr">alpha</span>: <span class="hljs-number">1</span>, 
        },
        {
            <span class="hljs-attr">action</span>: <span class="hljs-string">&#x27;flood&#x27;</span>,
            <span class="hljs-attr">lineIn</span>: <span class="hljs-string">&#x27;shadow&#x27;</span>,
            <span class="hljs-attr">lineOut</span>: <span class="hljs-string">&#x27;red-flood&#x27;</span>,
            <span class="hljs-attr">red</span>: <span class="hljs-number">255</span>,
        },
        {
            <span class="hljs-attr">action</span>: <span class="hljs-string">&#x27;compose&#x27;</span>,
            <span class="hljs-attr">lineIn</span>: <span class="hljs-string">&#x27;shadow&#x27;</span>,
            <span class="hljs-attr">lineMix</span>: <span class="hljs-string">&#x27;red-flood&#x27;</span>,
            <span class="hljs-attr">lineOut</span>: <span class="hljs-string">&#x27;colorized&#x27;</span>,
            <span class="hljs-attr">compose</span>: <span class="hljs-string">&#x27;destination-in&#x27;</span>,
        },
        {
            <span class="hljs-attr">action</span>: <span class="hljs-string">&#x27;compose&#x27;</span>,
            <span class="hljs-attr">lineIn</span>: <span class="hljs-string">&#x27;source&#x27;</span>,
            <span class="hljs-attr">lineMix</span>: <span class="hljs-string">&#x27;colorized&#x27;</span>,
        }
    ],
});
</code></pre>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-2">&#x00a7;</a>
              </div>
              <h4 id="demos">Demos:</h4>
<ul>
<li><a href="../../demo/canvas-007.html">Canvas-007</a> - Apply filters at the entity, group and cell level</li>
<li><a href="../../demo/canvas-020.html">Canvas-020</a> - Testing createImageFromXXX functionality</li>
<li><a href="../../demo/canvas-027.html">Canvas-027</a> - Video control and manipulation; chroma-based hit zone</li>
<li><a href="../../demo/packets-002.html">Packets-002</a> - Scrawl-canvas packets; save and load a range of different entitys</li>
<li><a href="../../demo/filters-019.html">Filters-019</a> - Using a Noise asset with a displace filter</li>
</ul>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-3">&#x00a7;</a>
              </div>
              <h4 id="imports">Imports</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">import</span> { cell, constructors, entity, group, styles } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../core/library.js&#x27;</span>;

<span class="hljs-keyword">import</span> { addStrings, doCreate, mergeOver, removeItem, Ωempty } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../core/utilities.js&#x27;</span>;

<span class="hljs-keyword">import</span> { makeGradient } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./gradient.js&#x27;</span>;
<span class="hljs-keyword">import</span> { colorEngine } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./filter-engine.js&#x27;</span>;

<span class="hljs-keyword">import</span> baseMix <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../mixin/base.js&#x27;</span>;

<span class="hljs-keyword">import</span> { _freeze, _keys, _round, _values, <span class="hljs-variable constant_">ALPHA_TO_CHANNELS</span>, <span class="hljs-variable constant_">AREA_ALPHA</span>, <span class="hljs-variable constant_">ARG_SPLITTER</span>, <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>, <span class="hljs-variable constant_">BLACK</span>, <span class="hljs-variable constant_">BLACK_WHITE</span>, <span class="hljs-variable constant_">BLEND</span>, <span class="hljs-variable constant_">BLUENOISE</span>, <span class="hljs-variable constant_">BLUR</span>, <span class="hljs-variable constant_">CHANNELS_TO_ALPHA</span>, <span class="hljs-variable constant_">CHROMA</span>, <span class="hljs-variable constant_">CLAMP_CHANNELS</span>, <span class="hljs-variable constant_">CLAMP_VALUES</span>, <span class="hljs-variable constant_">COLORS_TO_ALPHA</span>, <span class="hljs-variable constant_">COMPOSE</span>, <span class="hljs-variable constant_">CORRODE</span>, <span class="hljs-variable constant_">DEFAULT_SEED</span>, <span class="hljs-variable constant_">DISPLACE</span>, <span class="hljs-variable constant_">DOWN</span>, <span class="hljs-variable constant_">EMBOSS</span>, <span class="hljs-variable constant_">EMBOSS_WORK</span>, <span class="hljs-variable constant_">FILTER</span>, <span class="hljs-variable constant_">FLOOD</span>, <span class="hljs-variable constant_">GAUSSIAN_BLUR</span>, <span class="hljs-variable constant_">GLITCH</span>, <span class="hljs-variable constant_">GRAYSCALE</span>, <span class="hljs-variable constant_">GREEN</span>, <span class="hljs-variable constant_">INVERT_CHANNELS</span>, <span class="hljs-variable constant_">LINEAR</span>, <span class="hljs-variable constant_">LOCK_CHANNELS_TO_LEVELS</span>, <span class="hljs-variable constant_">MAP_TO_GRADIENT</span>, <span class="hljs-variable constant_">MATRIX</span>, <span class="hljs-variable constant_">MEAN</span>, <span class="hljs-variable constant_">MODULATE_CHANNELS</span>, <span class="hljs-variable constant_">NAME</span>, <span class="hljs-variable constant_">NEWSPRINT</span>, <span class="hljs-variable constant_">NOISE_VALUES</span>, <span class="hljs-variable constant_">NORMAL</span>, <span class="hljs-variable constant_">OFFSET</span>, <span class="hljs-title class_">PC30</span>, <span class="hljs-title class_">PC50</span>, <span class="hljs-variable constant_">PIXELATE</span>, <span class="hljs-variable constant_">PROCESS_IMAGE</span>, <span class="hljs-variable constant_">RANDOM</span>, <span class="hljs-variable constant_">RANDOM_NOISE</span>, <span class="hljs-variable constant_">RECT_GRID</span>, <span class="hljs-variable constant_">RED</span>, <span class="hljs-variable constant_">REDUCE_PALETTE</span>, <span class="hljs-variable constant_">SET_CHANNEL_TO_LEVEL</span>, <span class="hljs-variable constant_">SOURCE_OVER</span>, <span class="hljs-variable constant_">STEP_CHANNELS</span>, <span class="hljs-variable constant_">SWIRL</span>, <span class="hljs-variable constant_">T_FILTER</span>, <span class="hljs-variable constant_">THRESHOLD</span>, <span class="hljs-variable constant_">TILES</span>, <span class="hljs-variable constant_">TINT_CHANNELS</span>, <span class="hljs-variable constant_">UNDEF</span>, <span class="hljs-variable constant_">USER_DEFINED_LEGACY</span>, <span class="hljs-variable constant_">VARY_CHANNELS_BY_WEIGHTS</span>, <span class="hljs-variable constant_">WHITE</span>, <span class="hljs-variable constant_">ZERO_STR</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../core/shared-vars.js&#x27;</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-4">&#x00a7;</a>
              </div>
              <h4 id="filter-constructor">Filter constructor</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> <span class="hljs-title class_">Filter</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">items = Ωempty</span>) {

    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">makeName</span>(items.<span class="hljs-property">name</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">register</span>();

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">actions</span> = [];

    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">set</span>(items);
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-5">&#x00a7;</a>
              </div>
              <h4 id="filter-prototype">Filter prototype</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> P = <span class="hljs-title class_">Filter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title function_">doCreate</span>();
P.<span class="hljs-property">type</span> = <span class="hljs-variable constant_">T_FILTER</span>;
P.<span class="hljs-property">lib</span> = <span class="hljs-variable constant_">FILTER</span>;
P.<span class="hljs-property">isArtefact</span> = <span class="hljs-literal">false</span>;
P.<span class="hljs-property">isAsset</span> = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-6">&#x00a7;</a>
              </div>
              <h4 id="mixins">Mixins</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-title function_">baseMix</span>(P);</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-7">&#x00a7;</a>
              </div>
              <h4 id="filter-attributes">Filter attributes</h4>
<ul>
<li>Attributes defined in the <a href="../mixin/base.html">base mixin</a>: <strong>name</strong>.</li>
<li>_<strong>Note:</strong> unlike other Scrawl-canvas factory functions, the Filter factory does not set all its default attributes as part of its constructors. The reason for this is that these attributes are often specific to just one or a few filter actions or methods; not setting these defaults help save some object memory.</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> defaultAttributes = {</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-8">&#x00a7;</a>
              </div>
              <h5 id="how-the-filter-factory-builds-filters">How the filter factory builds filters</h5>
<p>Filter actions are defined in action objects - which are vanilla Javascript Objects collected together in the <strong>actions</strong> array. Each action object is processed sequentially by the filter engine to produce the final output for that filter.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">actions</span>: <span class="hljs-literal">null</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-9">&#x00a7;</a>
              </div>
              <p>The <strong>method</strong> attribute is a String which, in legacy filters, determines the actions which that filter will take on the image. An entity, Group or Cell can include more than one filter object in its <code>filters</code> Array. </p>
<ul>
<li>Filter factory invocations which include the <code>method</code> attribute in their argument object do not need to include an <code>actions</code> attribute; the factory will build the action objects for us.</li>
<li>When using the <code>method</code> attribute, other attributes can be included alongside it. The filter factory will automatically transpose these attributes to the action object.</li>
<li>The following Strings are valid methods: <code>&#39;alphaToChannels&#39;, &#39;areaAlpha&#39;, &#39;binary&#39;, &#39;blend&#39;, &#39;blue&#39;, &#39;blur&#39;, &#39;brightness&#39;, &#39;channelLevels&#39;, &#39;channels&#39;, &#39;channelstep&#39;, &#39;channelsToAlpha&#39;, &#39;chroma&#39;, &#39;chromakey&#39;, &#39;clampChannels&#39;, &#39;compose&#39;, &#39;corrode&#39;, &#39;curveWeights&#39;, &#39;cyan&#39;, &#39;displace&#39;, &#39;edgeDetect&#39;,  &#39;emboss&#39;, &#39;flood&#39;, &#39;gaussianBlur&#39;, &#39;gray&#39;, &#39;grayscale&#39;, &#39;green&#39;, &#39;image&#39;, &#39;invert&#39;, &#39;magenta&#39;, &#39;mapToGradient&#39;, &#39;matrix&#39;, &#39;matrix5&#39;, &#39;notblue&#39;, &#39;notgreen&#39;, &#39;notred&#39;, &#39;offset&#39;, &#39;offsetChannels&#39;, &#39;pixelate&#39;, &#39;randomNoise&#39;, &#39;red&#39;, &#39;reducePalette&#39;, &#39;saturation&#39;, &#39;sepia&#39;, &#39;sharpen&#39;, &#39;swirl&#39;, &#39;threshold&#39;, &#39;tint&#39;, &#39;userDefined&#39;, &#39;yellow&#39;</code>.</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">method</span>: <span class="hljs-variable constant_">ZERO_STR</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-10">&#x00a7;</a>
              </div>
              <h5 id="how-filters-process-data">How filters process data</h5>
<p>The Scrawl-canvas filter engine can use <em><strong>multiple pathways</strong></em> to process a filter’s Array of action objects. In essence, a filter action can store the results of its work in a named cache, which can then be used by other filter actions further down the line.</p>
<ul>
<li>When Scrawl-canvas applies filters to an entity, Group or Cell it will go through the entity’s <code>filters</code> Array looking for any <code>process-image</code> actions; when it finds one it will add a snapshot of the associated asset’s current image state to the filter object (thus Cell and Noise assets are naturally dynamic).</li>
<li>Then the system sends all of the filter’s action objects over to the filter engine, alongside a snapshot of the entity, Group or Cell to be processed.</li>
<li>If the entity, Group or Cell is acting as a stencil (its <code>isStencil</code> flag has been set to true) then a snapshot of the background behind the entity/Group/Cell is sent instead of the entitys themselves.</li>
<li>When the filter engine recieves the data packet, it stores the snapshot in its <code>source</code> cache, and replicates it into the <code>work</code> object.</li>
<li>All filter actions require a <strong>lineIn</strong> string which references a cached image or snapshot. If this is not supplied, then the action will process the data stored in the <code>work</code> object.</li>
<li>Additional sources for the lineIn (or lineMix) data are <code>source</code>, which copies the original source image data and delivers it to the action; and <code>source-alpha</code> which copies the original source’s alpha channel data to each of the color channels and delivers it to the action.</li>
<li>Similarly all filter actions require a <strong>lineOut</strong> which identifies the name of a cache in which the processed data can be stored. If this is not supplied, then the action will copy the processed data back into the <code>work</code> object</li>
<li>Some filter actions - specifically <code>blend</code>, <code>compose</code> and <code>displace</code> - use two inputs, combining the data referenced by the <strong>lineIn</strong> and <strong>lineMix</strong> attribute into <strong>lineOut</strong> cache or work object.</li>
<li>When processing completes, the updated data held in the work object is returned by the filter engine, which Scrawl-canvas then uses to stamp the entity/Group/Cell into the display canvas.</li>
<li>If the entity, Group or Cell has requested that the filters applied to it be memoized, the final result will be stored in a key:value cache; the next time the entity/Group/Cell requests the filters, and it supplies a key matching one in the cache, the cached result is returned instantly</li>
<li>memoized results are time limited and expire, by default, after 1 second.</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">lineIn</span>: <span class="hljs-variable constant_">ZERO_STR</span>,
    <span class="hljs-attr">lineMix</span>: <span class="hljs-variable constant_">ZERO_STR</span>,
    <span class="hljs-attr">lineOut</span>: <span class="hljs-variable constant_">ZERO_STR</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-11">&#x00a7;</a>
              </div>
              <p>Every action includes an <strong>opacity</strong> attribute which defines how much of the incoming image data (<code>lineIn</code>) and how much of the processed results gets included in the output data (<code>lineOut</code>)</p>
<ul>
<li>When set to <code>0</code>, the output consists entirely of input data</li>
<li>When set to <code>1</code> (the default), the output consists entirely of processed data</li>
<li>Values between these limits instruct the action to combine input and processed data proportionately in a linear fashion: a value of <code>0.7</code> leads to a result consisting of 30% input data and 70% processed data</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-12">&#x00a7;</a>
              </div>
              <h5 id="other-attributes-used-by-various-filters">Other attributes used by various filters</h5>
<p>The attributes below are used by specific filter actions and/or methods, and the values they take may change according to the filter’s requirements. Check out the following demos to see these attributes in action with each filter method:</p>
<ul>
<li><a href="../../demo/filters-001.html">Filters-001</a> - Parameters for: blur filter</li>
<li><a href="../../demo/filters-002.html">Filters-002</a> - Parameters for: red, green, blue, cyan, magenta, yellow, notred, notgreen, notblue, grayscale, sepia, invert filters</li>
<li><a href="../../demo/filters-003.html">Filters-003</a> - Parameters for: brightness, saturation filters</li>
<li><a href="../../demo/filters-004.html">Filters-004</a> - Parameters for: threshold filter</li>
<li><a href="../../demo/filters-005.html">Filters-005</a> - Parameters for: channelstep filter</li>
<li><a href="../../demo/filters-006.html">Filters-006</a> - Parameters for: channelLevels filter</li>
<li><a href="../../demo/filters-007.html">Filters-007</a> - Parameters for: channels filter</li>
<li><a href="../../demo/filters-008.html">Filters-008</a> - Parameters for: tint filter</li>
<li><a href="../../demo/filters-009.html">Filters-009</a> - Parameters for: pixelate filter</li>
<li><a href="../../demo/filters-010.html">Filters-010</a> - Parameters for: chroma filter</li>
<li><a href="../../demo/filters-011.html">Filters-011</a> - Parameters for: chromakey filter</li>
<li><a href="../../demo/filters-012.html">Filters-012</a> - Parameters for: matrix, matrix5 filters</li>
<li><a href="../../demo/filters-013.html">Filters-013</a> - Parameters for: flood filter</li>
<li><a href="../../demo/filters-014.html">Filters-014</a> - Parameters for: areaAlpha filter</li>
<li><a href="../../demo/filters-015.html">Filters-015</a> - Using assets in the filter stream; filter compositing</li>
<li><a href="../../demo/filters-016.html">Filters-016</a> - Filter blend operation</li>
<li><a href="../../demo/filters-017.html">Filters-017</a> - Parameters for: displace filter</li>
<li><a href="../../demo/filters-018.html">Filters-018</a> - Parameters for: emboss filter</li>
<li><a href="../../demo/filters-019.html">Filters-019</a> - Parameters for: edgeDetect, sharpen filters</li>
<li><a href="../../demo/filters-020.html">Filters-020</a> - Parameters for: clampChannels filter</li>
<li><a href="../../demo/filters-021.html">Filters-021</a> - Parameters for: corrode filter</li>
<li><a href="../../demo/filters-022.html">Filters-022</a> - Parameters for: mapToGradient filter</li>
<li><a href="../../demo/filters-023.html">Filters-023</a> - Parameters for: randomNoise filter</li>
<li><a href="../../demo/filters-024.html">Filters-024</a> - Parameters for: curveNoise filter</li>
<li><a href="../../demo/filters-025.html">Filters-025</a> - Parameters for: glitch filter</li>
<li><a href="../../demo/filters-026.html">Filters-026</a> - Parameters for: swirl filter</li>
<li><a href="../../demo/filters-027.html">Filters-027</a> - Parameters for: reducePalette filter</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">alpha</span>: <span class="hljs-number">255</span>,
    <span class="hljs-attr">angle</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">areaAlphaLevels</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">asset</span>: <span class="hljs-variable constant_">ZERO_STR</span>,
    <span class="hljs-attr">blend</span>: <span class="hljs-variable constant_">NORMAL</span>,
    <span class="hljs-attr">blue</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">blueInBlue</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">blueColor</span>: <span class="hljs-variable constant_">BLACK</span>,
    <span class="hljs-attr">blueInGreen</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">blueInRed</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">channelX</span>: <span class="hljs-variable constant_">RED</span>,
    <span class="hljs-attr">channelY</span>: <span class="hljs-variable constant_">GREEN</span>,
    <span class="hljs-attr">clamp</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">compose</span>: <span class="hljs-variable constant_">SOURCE_OVER</span>,
    <span class="hljs-attr">copyHeight</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">copyWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">copyX</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">copyY</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">concurrent</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">easing</span>: <span class="hljs-variable constant_">LINEAR</span>,
    <span class="hljs-attr">excludeAlpha</span>: <span class="hljs-literal">true</span>, 
    <span class="hljs-attr">excludeBlue</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">excludeGreen</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">excludeRed</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">excludeTransparentPixels</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">gradient</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">green</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">greenInBlue</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">greenColor</span>: <span class="hljs-variable constant_">BLACK</span>,
    <span class="hljs-attr">greenInGreen</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">greenInRed</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">gutterHeight</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">gutterWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">highAlpha</span>: <span class="hljs-number">255</span>,
    <span class="hljs-attr">highBlue</span>: <span class="hljs-number">255</span>,
    <span class="hljs-attr">highColor</span>: <span class="hljs-variable constant_">WHITE</span>,
    <span class="hljs-attr">highGreen</span>: <span class="hljs-number">255</span>,
    <span class="hljs-attr">highRed</span>: <span class="hljs-number">255</span>,
    <span class="hljs-attr">includeAlpha</span>: <span class="hljs-literal">false</span>, 
    <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">innerRadius</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">keepOnlyChangedAreas</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">level</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">lowAlpha</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">lowBlue</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">lowColor</span>: <span class="hljs-variable constant_">BLACK</span>,
    <span class="hljs-attr">lowGreen</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">lowRed</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">minimumColorDistance</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">noiseType</span>: <span class="hljs-variable constant_">RANDOM</span>,
    <span class="hljs-attr">noWrap</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">offsetAlphaX</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetAlphaY</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetBlueX</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetBlueY</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetGreenX</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetGreenY</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetRedX</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetRedY</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetX</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetY</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetAlphaMin</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetAlphaMax</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetBlueMin</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetBlueMax</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetGreenMin</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetGreenMax</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetRedMin</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetRedMax</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetMin</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">offsetMax</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">opaqueAt</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">operation</span>: <span class="hljs-variable constant_">MEAN</span>,
    <span class="hljs-attr">outerRadius</span>: <span class="hljs-title class_">PC30</span>,
    <span class="hljs-attr">palette</span>: <span class="hljs-variable constant_">BLACK_WHITE</span>, 
    <span class="hljs-attr">passes</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">points</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">postProcessResults</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">processHorizontal</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">processVertical</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">radius</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">ranges</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">red</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">redInBlue</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">redColor</span>: <span class="hljs-variable constant_">BLACK</span>,
    <span class="hljs-attr">redInGreen</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">redInRed</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">reference</span>: <span class="hljs-variable constant_">BLACK</span>,
    <span class="hljs-attr">scaleX</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">scaleY</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">seed</span>: <span class="hljs-variable constant_">DEFAULT_SEED</span>,
    <span class="hljs-attr">smoothing</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">startX</span>: <span class="hljs-title class_">PC50</span>,
    <span class="hljs-attr">startY</span>: <span class="hljs-title class_">PC50</span>,
    <span class="hljs-attr">step</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">strength</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">staticSwirls</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">tileHeight</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">tileWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">tileRadius</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">tolerance</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">transparentAt</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">transparentEdges</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">useBluenoise</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">useLabForPaletteDistance</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">useMixedChannel</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">useNaturalGrayscale</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">weights</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>,
};
P.<span class="hljs-property">defs</span> = <span class="hljs-title function_">mergeOver</span>(P.<span class="hljs-property">defs</span>, defaultAttributes);</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-13">&#x00a7;</a>
              </div>
              <h4 id="packet-management">Packet management</h4>
<p>No additional packet functionality required</p>

            </div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-14">&#x00a7;</a>
              </div>
              <h4 id="clone-management">Clone management</h4>
<p>No additional clone functionality required</p>

            </div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-15">&#x00a7;</a>
              </div>
              <h4 id="kill-management">Kill management</h4>
<p>Overwrites ./mixin/base.js</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>P.<span class="hljs-property">kill</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {

    <span class="hljs-keyword">const</span> myname = <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>;
    <span class="hljs-keyword">let</span> f;</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-16">&#x00a7;</a>
              </div>
              <p>Remove filter from all entity filters attribute</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title function_">_values</span>(entity).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">ent</span> =&gt;</span> {

        f = ent.<span class="hljs-property">filters</span>;
        <span class="hljs-keyword">if</span> (f &amp;&amp; f.<span class="hljs-title function_">includes</span>(myname)) <span class="hljs-title function_">removeItem</span>(f, myname);
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-17">&#x00a7;</a>
              </div>
              <p>Remove filter from all group filters attribute</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title function_">_values</span>(group).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">grp</span> =&gt;</span> {

        f = grp.<span class="hljs-property">filters</span>;
        <span class="hljs-keyword">if</span> (f &amp;&amp; f.<span class="hljs-title function_">includes</span>(myname)) <span class="hljs-title function_">removeItem</span>(f, myname);
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-18">&#x00a7;</a>
              </div>
              <p>Remove filter from all cell filters attribute</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-title function_">_values</span>(cell).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> {

        f = c.<span class="hljs-property">filters</span>;
        <span class="hljs-keyword">if</span> (f &amp;&amp; f.<span class="hljs-title function_">includes</span>(myname)) <span class="hljs-title function_">removeItem</span>(f, myname);
    });</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-19">&#x00a7;</a>
              </div>
              <p>Remove filter from the Scrawl-canvas library</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">deregister</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-20">&#x00a7;</a>
              </div>
              <h4 id="get-set-deltaset">Get, Set, deltaSet</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> S = P.<span class="hljs-property">setters</span>;


P.<span class="hljs-property">set</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">items = Ωempty</span>) {

    <span class="hljs-keyword">const</span> keys = <span class="hljs-title function_">_keys</span>(items),
        keysLen = keys.<span class="hljs-property">length</span>;

    <span class="hljs-keyword">if</span> (keysLen) {

        <span class="hljs-keyword">const</span> setters = <span class="hljs-variable language_">this</span>.<span class="hljs-property">setters</span>,
            defs = <span class="hljs-variable language_">this</span>.<span class="hljs-property">defs</span>;
        
        <span class="hljs-keyword">let</span> fn, i, key, value;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; keysLen; i++) {

            key = keys[i];
            value = items[key];

            <span class="hljs-keyword">if</span> (key &amp;&amp; key != <span class="hljs-variable constant_">NAME</span> &amp;&amp; value != <span class="hljs-literal">null</span>) {

                fn = setters[key];

                <span class="hljs-keyword">if</span> (fn) fn.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, value);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> defs[key] != <span class="hljs-variable constant_">UNDEF</span>) <span class="hljs-variable language_">this</span>[key] = value;
            }
        }
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span> &amp;&amp; setActionsArray[<span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span>]) setActionsArray[<span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span>](<span class="hljs-variable language_">this</span>);

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dirtyFilterIdentifier</span> = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
};


P.<span class="hljs-property">setDelta</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">items = Ωempty</span>) {

    <span class="hljs-keyword">const</span> keys = <span class="hljs-title function_">_keys</span>(items),
        keysLen = keys.<span class="hljs-property">length</span>;

    <span class="hljs-keyword">if</span> (keysLen) {

        <span class="hljs-keyword">const</span> setters = <span class="hljs-variable language_">this</span>.<span class="hljs-property">deltaSetters</span>,
            defs = <span class="hljs-variable language_">this</span>.<span class="hljs-property">defs</span>;
        
        <span class="hljs-keyword">let</span> fn, i, key, value;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; keysLen; i++) {

            key = keys[i];
            value = items[key];

            <span class="hljs-keyword">if</span> (key &amp;&amp; key != <span class="hljs-variable constant_">NAME</span> &amp;&amp; value != <span class="hljs-literal">null</span>) {

                fn = setters[key];

                <span class="hljs-keyword">if</span> (fn) fn.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, value);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> defs[key] != <span class="hljs-variable constant_">UNDEF</span>) <span class="hljs-variable language_">this</span>[key] = <span class="hljs-title function_">addStrings</span>(<span class="hljs-variable language_">this</span>[key], value);
            }
        }
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span> &amp;&amp; setActionsArray[<span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span>]) setActionsArray[<span class="hljs-variable language_">this</span>.<span class="hljs-property">method</span>](<span class="hljs-variable language_">this</span>);

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dirtyFilterIdentifier</span> = <span class="hljs-literal">true</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
};

S.<span class="hljs-property">actions</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) {

    <span class="hljs-keyword">if</span> (item != <span class="hljs-literal">null</span>) <span class="hljs-variable language_">this</span>.<span class="hljs-property">actions</span> = item;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-21">&#x00a7;</a>
              </div>
              <h4 id="compatibility-with-scrawl-canvas-legacy-filters-functionality">Compatibility with Scrawl-canvas legacy filters functionality</h4>
<p>The Scrawl-canvas filters code was rewritten from scratch for version 8.4.0. The new functionality introduced the concept of “line processing” - <code>lineIn</code>, <code>lineMix</code>, <code>lineOut</code> (analagous to SVG <code>in</code>, <code>in2</code> and <code>result</code> attributes) - alongside the addition of more sophisticated image processing tools such as blend modes, compositing, more adaptable matrices, image loading, displacement mapping, etc.</p>
<p>The legacy system - defining filters using <code>method</code> String attributes - has been adapted to use the new system behind the scenes. As a result all legacy filters will continue to work as expected - with one exception: user-defined filters, which allowed the user to code a function string to pass on to the filter engine, will no longer function in Scrawl-canvas v8.4.0+.</p>
<p>Note that there are no plans to deprecate the legacy method of defining/creating Filters. The following code will continue to work:</p>
<pre><code><span class="hljs-comment">// __Brightness__ filter</span>
scrawl.<span class="hljs-title function_">makeFilter</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;my-bright-filter&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;brightness&#x27;</span>,
    <span class="hljs-attr">level</span>: <span class="hljs-number">0.5</span>,

<span class="hljs-comment">// __Threshhold__ filter</span>
}).<span class="hljs-title function_">clone</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;my-duotone-filter&#x27;</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;threshold&#x27;</span>,
    <span class="hljs-attr">level</span>: <span class="hljs-number">127</span>,
    <span class="hljs-attr">lowRed</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">lowGreen</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">lowBlue</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">highRed</span>: <span class="hljs-number">220</span>,
    <span class="hljs-attr">highGreen</span>: <span class="hljs-number">60</span>,
    <span class="hljs-attr">highBlue</span>: <span class="hljs-number">60</span>,
});
</code></pre>

            </div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-22">&#x00a7;</a>
              </div>
              <p><code>setActionsArray</code> - an object containing a large number of functions which will convert legacy factory function invocations (using <code>method</code> strings) into modern Filter objects (using <code>actions</code> arrays):</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> setActionsArray = <span class="hljs-title function_">_freeze</span>({</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-23">&#x00a7;</a>
              </div>
              <p><strong>alphaToChannels</strong> (new in v8.4.0) - copies the alpha channel value over to the selected value or, alternatively, sets that channels value to zero, or leaves the channel’s value unchanged. Setting the appropriate <code>includeChannel</code> flags will copy the alpha channel value to that channel; when that flag is false, setting the appropriate <code>excludeChannel</code> flag will set that channel’s value to zero.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">alphaToChannels</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">ALPHA_TO_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeRed</span>: (f.<span class="hljs-property">excludeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">excludeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeGreen</span>: (f.<span class="hljs-property">excludeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">excludeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeBlue</span>: (f.<span class="hljs-property">excludeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">excludeBlue</span> : <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-24">&#x00a7;</a>
              </div>
              <p><strong>areaAlpha</strong> (new in v8.4.0) - places a tile schema across the input, quarters each tile and then sets the alpha channels of the pixels in selected quarters of each tile to zero. Can be used to create horizontal or vertical bars, or chequerboard effects.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">areaAlpha</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AREA_ALPHA</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">tileWidth</span>: (f.<span class="hljs-property">tileWidth</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">tileWidth</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">tileHeight</span>: (f.<span class="hljs-property">tileHeight</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">tileHeight</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">gutterWidth</span>: (f.<span class="hljs-property">gutterWidth</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">gutterWidth</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">gutterHeight</span>: (f.<span class="hljs-property">gutterHeight</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">gutterHeight</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">areaAlphaLevels</span>: (f.<span class="hljs-property">areaAlphaLevels</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">areaAlphaLevels</span> : [<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-25">&#x00a7;</a>
              </div>
              <p>DEPRECATED! <strong>binary</strong> - use the updated threshold filter instead, as this functionality has been added to it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">binary</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        <span class="hljs-keyword">const</span> lowRed = (f.<span class="hljs-property">lowRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowRed</span> : <span class="hljs-number">0</span>,
            lowGreen = (f.<span class="hljs-property">lowGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowGreen</span> : <span class="hljs-number">0</span>,
            lowBlue = (f.<span class="hljs-property">lowBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowBlue</span> : <span class="hljs-number">0</span>,
            lowAlpha = (f.<span class="hljs-property">lowAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowAlpha</span> : <span class="hljs-number">255</span>,
            highRed = (f.<span class="hljs-property">highRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highRed</span> : <span class="hljs-number">255</span>,
            highGreen = (f.<span class="hljs-property">highGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highGreen</span> : <span class="hljs-number">255</span>,
            highBlue = (f.<span class="hljs-property">highBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highBlue</span> : <span class="hljs-number">255</span>,
            highAlpha = (f.<span class="hljs-property">highAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highAlpha</span> : <span class="hljs-number">255</span>;
            

        <span class="hljs-keyword">const</span> low = (f.<span class="hljs-property">low</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">low</span> : [lowRed, lowGreen, lowBlue, lowAlpha],
            high = (f.<span class="hljs-property">high</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">high</span> : [highRed, highGreen, highBlue, highAlpha];

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">THRESHOLD</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">level</span>: (f.<span class="hljs-property">level</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">level</span> : <span class="hljs-number">128</span>,
            <span class="hljs-attr">red</span>: (f.<span class="hljs-property">red</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">red</span> : <span class="hljs-number">128</span>,
            <span class="hljs-attr">green</span>: (f.<span class="hljs-property">green</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">green</span> : <span class="hljs-number">128</span>,
            <span class="hljs-attr">blue</span>: (f.<span class="hljs-property">blue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blue</span> : <span class="hljs-number">128</span>,
            <span class="hljs-attr">alpha</span>: (f.<span class="hljs-property">alpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">alpha</span> : <span class="hljs-number">128</span>,
            low,
            high,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">useMixedChannel</span>: (f.<span class="hljs-property">useMixedChannel</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">useMixedChannel</span> : <span class="hljs-literal">false</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-26">&#x00a7;</a>
              </div>
              <p><strong>blend</strong> (new in v8.4.0) - perform a blend operation on two images; available blend options include: <code>&#39;color-burn&#39;, &#39;color-dodge&#39;, &#39;darken&#39;, &#39;difference&#39;, &#39;exclusion&#39;, &#39;hard-light&#39;, &#39;lighten&#39;, &#39;lighter&#39;, &#39;multiply&#39;, &#39;overlay&#39;, &#39;screen&#39;, &#39;soft-light&#39;, &#39;color&#39;, &#39;hue&#39;, &#39;luminosity&#39;, and &#39;saturation&#39;</code> - see <a href="https://www.w3.org/TR/compositing-1/#blending">W3C Compositing and Blending recommendations</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">blend</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">BLEND</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineMix</span>: (f.<span class="hljs-property">lineMix</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineMix</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">blend</span>: (f.<span class="hljs-property">blend</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blend</span> : <span class="hljs-variable constant_">NORMAL</span>,
            <span class="hljs-attr">offsetX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-27">&#x00a7;</a>
              </div>
              <p><strong>blue</strong> - removes red and green channel color from the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">blue</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">excludeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeGreen</span>: <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-28">&#x00a7;</a>
              </div>
              <p><strong>blur</strong> - blurs the image
A bespoke blur function. Creates visual artefacts with various settings that might be useful. Strongly advise to memoize the results from this filter as it is resource-intensive.</p>
<ul>
<li>Use the gaussian blur filter for a smoother result.</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">blur</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">BLUR</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">excludeTransparentPixels</span>: (f.<span class="hljs-property">excludeTransparentPixels</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">excludeTransparentPixels</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">processHorizontal</span>: (f.<span class="hljs-property">processHorizontal</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">processHorizontal</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">processVertical</span>: (f.<span class="hljs-property">processVertical</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">processVertical</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">radius</span>: (f.<span class="hljs-property">radius</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">radius</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">passes</span>: (f.<span class="hljs-property">passes</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">passes</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">step</span>: (f.<span class="hljs-property">step</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">step</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-29">&#x00a7;</a>
              </div>
              <p><strong>brightness</strong> - adjusts the brightness of the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">brightness</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        <span class="hljs-keyword">const</span> level = (f.<span class="hljs-property">level</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">level</span> : <span class="hljs-number">1</span>;

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">MODULATE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">red</span>: level,
            <span class="hljs-attr">green</span>: level,
            <span class="hljs-attr">blue</span>: level,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-30">&#x00a7;</a>
              </div>
              <p><strong>channelLevels</strong> (new in v8.4.0) - produces a posterize effect. Takes in four arguments - <code>red</code>, <code>green</code>, <code>blue</code> and <code>alpha</code> - each of which is an Array of zero or more integer Numbers (between 0 and 255). The filter works by looking at each pixel’s channel value and determines which of the corresponding Array’s Number values it is closest to; it then sets the channel value to that Number value</p>
<ul>
<li>TODO - add in a <code>reference</code> attribute, which will be a valid CSS color string. Use these colors to generate the red, green and blue Arrays.</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">channelLevels</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">LOCK_CHANNELS_TO_LEVELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">red</span>: (f.<span class="hljs-property">red</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">red</span> : [<span class="hljs-number">0</span>],
            <span class="hljs-attr">green</span>: (f.<span class="hljs-property">green</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">green</span> : [<span class="hljs-number">0</span>],
            <span class="hljs-attr">blue</span>: (f.<span class="hljs-property">blue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blue</span> : [<span class="hljs-number">0</span>],
            <span class="hljs-attr">alpha</span>: (f.<span class="hljs-property">alpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">alpha</span> : [<span class="hljs-number">255</span>],
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-31">&#x00a7;</a>
              </div>
              <p><strong>channels</strong> - adjust the value of each channel by a specified multiplier</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">channels</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">MODULATE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">red</span>: (f.<span class="hljs-property">red</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">red</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">green</span>: (f.<span class="hljs-property">green</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">green</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">blue</span>: (f.<span class="hljs-property">blue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blue</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">alpha</span>: (f.<span class="hljs-property">alpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">alpha</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-32">&#x00a7;</a>
              </div>
              <p><strong>channelstep</strong> - restrict the number of color values that each channel can set by imposing regular bands on each channel</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">channelstep</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        <span class="hljs-keyword">let</span> clamp = (f.<span class="hljs-property">clamp</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">clamp</span> : <span class="hljs-variable constant_">DOWN</span>

        <span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">CLAMP_VALUES</span>.<span class="hljs-title function_">includes</span>(clamp)) clamp = <span class="hljs-variable constant_">DOWN</span>;

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">STEP_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            clamp,
            <span class="hljs-attr">red</span>: (f.<span class="hljs-property">red</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">red</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">green</span>: (f.<span class="hljs-property">green</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">green</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">blue</span>: (f.<span class="hljs-property">blue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blue</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-33">&#x00a7;</a>
              </div>
              <p><strong>channelsToAlpha</strong> (new in v8.4.0) - calculates an average value from each pixel’s included channels and applies that value to the alpha channel.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">channelsToAlpha</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">CHANNELS_TO_ALPHA</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-34">&#x00a7;</a>
              </div>
              <p><strong>chroma</strong> - using an array of <code>range</code> arrays, determine whether a pixel’s values lie entirely within a range’s values and, if true, sets that pixel’s alpha channel value to zero. Each range array comprises six Numbers representing <code>[minimum-red, minimum-green, minimum-blue, maximum-red, maximum-green, maximum-blue]</code> values.</p>
<ul>
<li>Since v8.7.0 we can also define range Arrays as <code>[CSS-color-string, CSS-color-string]</code></li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">chroma</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        <span class="hljs-keyword">const</span> processedRanges = [],
            res = [];

        <span class="hljs-keyword">if</span> ((f.<span class="hljs-property">ranges</span> != <span class="hljs-literal">null</span>)) {

            f.<span class="hljs-property">ranges</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">range</span> =&gt;</span> {

                <span class="hljs-keyword">if</span> (range.<span class="hljs-property">length</span> == <span class="hljs-number">6</span>) processedRanges.<span class="hljs-title function_">push</span>(range);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (range.<span class="hljs-property">length</span> == <span class="hljs-number">2</span>) {

                    <span class="hljs-keyword">if</span> (range[<span class="hljs-number">0</span>].<span class="hljs-property">substring</span> &amp;&amp; range[<span class="hljs-number">1</span>].<span class="hljs-property">substring</span>) {

                        res.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;

                        range.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">col</span> =&gt;</span> {

                            <span class="hljs-keyword">let</span> [r, g, b] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(col);
                            res.<span class="hljs-title function_">push</span>(r, g, b);
                        });
                    }
                    processedRanges.<span class="hljs-title function_">push</span>(res);
                } 
            })
        }

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">CHROMA</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">ranges</span>: processedRanges,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-35">&#x00a7;</a>
              </div>
              <p><strong>chromakey</strong> (new in v8.4.0) - determine the alpha channel value for each pixel depending on the closeness to that pixel’s color channel values to a reference color supplied in the <code>red</code>, <code>green</code> and <code>blue</code> arguments. The sensitivity of the effect can be manipulated using the <code>transparentAt</code> and <code>opaqueAt</code> values, both of which lie in the range 0-1.</p>
<ul>
<li>Since v8.7.0, this filter also accepts a <code>reference</code> color string in place of the <code>red, green, blue</code> values</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">chromakey</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        <span class="hljs-keyword">let</span> red = (f.<span class="hljs-property">red</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">red</span> : <span class="hljs-number">0</span>,
            green = (f.<span class="hljs-property">green</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">green</span> : <span class="hljs-number">255</span>,
            blue = (f.<span class="hljs-property">blue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blue</span> : <span class="hljs-number">0</span>;

        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">reference</span> != <span class="hljs-literal">null</span>) {

            [red, green, blue] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">reference</span>);

            f.<span class="hljs-property">red</span> = red;
            f.<span class="hljs-property">green</span> = green;
            f.<span class="hljs-property">blue</span> = blue;

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">reference</span>;
        }

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">COLORS_TO_ALPHA</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            red,
            green,
            blue,
            <span class="hljs-attr">transparentAt</span>: (f.<span class="hljs-property">transparentAt</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">transparentAt</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">opaqueAt</span>: (f.<span class="hljs-property">opaqueAt</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opaqueAt</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-36">&#x00a7;</a>
              </div>
              <p><strong>clampChannels</strong> (new in v8.4.0) - clamp each color channel to a range set by <code>lowColor</code> and <code>highColor</code> values</p>
<ul>
<li>Since v8.7.0, this filter also accepts <code>lowColor</code> and <code>highColor</code> CSS color Strings in place of the <code>lowRed, lowGreen, lowBlue, highRed, highGreen, highBlue</code> values</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">clampChannels</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        <span class="hljs-keyword">let</span> lowRed = (f.<span class="hljs-property">lowRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowRed</span> : <span class="hljs-number">0</span>,
            lowGreen = (f.<span class="hljs-property">lowGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowGreen</span> : <span class="hljs-number">0</span>,
            lowBlue = (f.<span class="hljs-property">lowBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowBlue</span> : <span class="hljs-number">0</span>,
            highRed = (f.<span class="hljs-property">highRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highRed</span> : <span class="hljs-number">255</span>,
            highGreen = (f.<span class="hljs-property">highGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highGreen</span> : <span class="hljs-number">255</span>,
            highBlue = (f.<span class="hljs-property">highBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highBlue</span> : <span class="hljs-number">255</span>;

        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">lowColor</span> != <span class="hljs-literal">null</span>) {

            [lowRed, lowGreen, lowBlue] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">lowColor</span>);

            f.<span class="hljs-property">lowRed</span> = lowRed;
            f.<span class="hljs-property">lowGreen</span> = lowGreen;
            f.<span class="hljs-property">lowBlue</span> = lowBlue;

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">lowColor</span>;
        }

        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">highColor</span> != <span class="hljs-literal">null</span>) {
            
            [highRed, highGreen, highBlue] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">highColor</span>);

            f.<span class="hljs-property">highRed</span> = highRed;
            f.<span class="hljs-property">highGreen</span> = highGreen;
            f.<span class="hljs-property">highBlue</span> = highBlue;

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">highColor</span>;
        }

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">CLAMP_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            lowRed,
            lowGreen,
            lowBlue,
            highRed,
            highGreen,
            highBlue,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-37">&#x00a7;</a>
              </div>
              <p><strong>compose</strong> (new in v8.4.0) - perform a composite operation on two images; available <code>compose</code> options include: <code>&#39;destination-only&#39;, &#39;destination-over&#39;, &#39;destination-in&#39;, &#39;destination-out&#39;, &#39;destination-atop&#39;, &#39;source-only&#39;, &#39;source-over&#39; (default), &#39;source-in&#39;, &#39;source-out&#39;, &#39;source-atop&#39;, &#39;clear&#39;, and &#39;xor&#39;</code> - see <a href="https://www.w3.org/TR/compositing-1/#porterduffcompositingoperators">W3C Compositing and Blending recommendations</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">compose</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">COMPOSE</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineMix</span>: (f.<span class="hljs-property">lineMix</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineMix</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">compose</span>: (f.<span class="hljs-property">compose</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">compose</span> : <span class="hljs-variable constant_">SOURCE_OVER</span>,
            <span class="hljs-attr">offsetX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-38">&#x00a7;</a>
              </div>
              <p><strong>corrode</strong> (new in v8.5.2) - performs a special form of matrix operation on each pixel’s color and alpha channels, calculating the new value using neighbouring pixel values. </p>
<ul>
<li>Note that this filter is expensive, thus much slower to complete compared to other filter effects. Memoization is strongly advised!</li>
<li>The matrix dimensions can be set using the <code>width</code> and <code>height</code> arguments, while setting the home pixel’s position within the matrix can be set using the <code>offsetX</code> and <code>offsetY</code> arguments. </li>
<li>The operation will set the pixel’s channel value to match either the lowest, highest, mean or median values as dictated by its neighbours - this value is set in the <code>level</code> attribute. </li>
<li>Channels can be selected by setting the <code>includeRed</code>, <code>includeGreen</code>, <code>includeBlue</code> (all false by default) and <code>includeAlpha</code> (default: true) flags.</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">corrode</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">CORRODE</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">width</span>: (f.<span class="hljs-property">width</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">width</span> : <span class="hljs-number">3</span>,
            <span class="hljs-attr">height</span>: (f.<span class="hljs-property">height</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">height</span> : <span class="hljs-number">3</span>,
            <span class="hljs-attr">offsetX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">operation</span>: (f.<span class="hljs-property">operation</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">operation</span> : <span class="hljs-variable constant_">MEAN</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-39">&#x00a7;</a>
              </div>
              <p><strong>curveWeights</strong> (new in v8.6.1) - curves filter (for image processing tonality). The weights array must by 1024 elements long, with each element defaulting to a value of 1.0</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">curveWeights</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">VARY_CHANNELS_BY_WEIGHTS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">weights</span>: (f.<span class="hljs-property">weights</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">weights</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">useMixedChannel</span>: (f.<span class="hljs-property">useMixedChannel</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">useMixedChannel</span> : <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-40">&#x00a7;</a>
              </div>
              <p><strong>cyan</strong> - removes red channel color from the image, and averages the remaining channel colors</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">cyan</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeRed</span>: <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-41">&#x00a7;</a>
              </div>
              <p><strong>displace</strong> (new in v8.4.0) - moves pixels around the image, based on the color channel values supplied by a displacement map image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">displace</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">DISPLACE</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineMix</span>: (f.<span class="hljs-property">lineMix</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineMix</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">channelX</span>: (f.<span class="hljs-property">channelX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">channelX</span> : <span class="hljs-variable constant_">RED</span>,
            <span class="hljs-attr">channelY</span>: (f.<span class="hljs-property">channelY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">channelY</span> : <span class="hljs-variable constant_">GREEN</span>,
            <span class="hljs-attr">offsetX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">scaleX</span>: (f.<span class="hljs-property">scaleX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">scaleX</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">scaleY</span>: (f.<span class="hljs-property">scaleY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">scaleY</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">transparentEdges</span>: (f.<span class="hljs-property">transparentEdges</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">transparentEdges</span> : <span class="hljs-literal">false</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-42">&#x00a7;</a>
              </div>
              <p><strong>edgeDetect</strong> (new in v8.4.0) - applies a preset 3x3 edge-detect matrix to the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">edgeDetect</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">MATRIX</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">width</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">offsetX</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetY</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">weights</span>: [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,-<span class="hljs-number">4</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>],
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-43">&#x00a7;</a>
              </div>
              <p><strong>emboss</strong> (new in v8.4.0) - outputs a black-gray-red emboss effect</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">emboss</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        <span class="hljs-keyword">const</span> actions = [];
        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">useNaturalGrayscale</span>) {
            actions.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">GRAYSCALE</span>,
                <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
                <span class="hljs-attr">lineOut</span>: <span class="hljs-variable constant_">EMBOSS_WORK</span>,
            });
        }
        <span class="hljs-keyword">else</span> {
            actions.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>,
                <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
                <span class="hljs-attr">lineOut</span>: <span class="hljs-variable constant_">EMBOSS_WORK</span>,
                <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
            });
        }
        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">clamp</span>) {
            actions.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">CLAMP_CHANNELS</span>,
                <span class="hljs-attr">lineIn</span>: <span class="hljs-variable constant_">EMBOSS_WORK</span>,
                <span class="hljs-attr">lineOut</span>: <span class="hljs-variable constant_">EMBOSS_WORK</span>,
                <span class="hljs-attr">lowRed</span>: <span class="hljs-number">0</span> + f.<span class="hljs-property">clamp</span>, 
                <span class="hljs-attr">lowGreen</span>: <span class="hljs-number">0</span> + f.<span class="hljs-property">clamp</span>, 
                <span class="hljs-attr">lowBlue</span>: <span class="hljs-number">0</span> + f.<span class="hljs-property">clamp</span>, 
                <span class="hljs-attr">highRed</span>: <span class="hljs-number">255</span> - f.<span class="hljs-property">clamp</span>, 
                <span class="hljs-attr">highGreen</span>: <span class="hljs-number">255</span> - f.<span class="hljs-property">clamp</span>, 
                <span class="hljs-attr">highBlue</span>: <span class="hljs-number">255</span> - f.<span class="hljs-property">clamp</span>,
            });
        }
        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">smoothing</span>) {
            actions.<span class="hljs-title function_">push</span>({
                <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">GAUSSIAN_BLUR</span>,
                <span class="hljs-attr">lineIn</span>: <span class="hljs-variable constant_">EMBOSS_WORK</span>,
                <span class="hljs-attr">lineOut</span>: <span class="hljs-variable constant_">EMBOSS_WORK</span>,
                <span class="hljs-attr">radius</span>: f.<span class="hljs-property">smoothing</span>,
            });
        }
        actions.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">EMBOSS</span>,
            <span class="hljs-attr">lineIn</span>: <span class="hljs-variable constant_">EMBOSS_WORK</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">angle</span>: (f.<span class="hljs-property">angle</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">angle</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">strength</span>: (f.<span class="hljs-property">strength</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">strength</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">tolerance</span>: (f.<span class="hljs-property">tolerance</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">tolerance</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">keepOnlyChangedAreas</span>: (f.<span class="hljs-property">keepOnlyChangedAreas</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">keepOnlyChangedAreas</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">postProcessResults</span>: (f.<span class="hljs-property">postProcessResults</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">postProcessResults</span> : <span class="hljs-literal">true</span>,
        });
        f.<span class="hljs-property">actions</span> = actions;
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-44">&#x00a7;</a>
              </div>
              <p><strong>flood</strong> (new in v8.4.0) - creates a uniform sheet of the required color, which can then be used by other filter actions</p>
<ul>
<li>Note that the <code>alpha</code> value is given in the range <code>0-255</code> (like the color channels), not <code>0-1</code> or <code>0%-100%</code> (as is expected in various CSS color String definitions)</li>
<li>Since v8.7.0, this filter also accepts a <code>reference</code> color string in place of the <code>red, green, blue, alpha</code> values</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">flood</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        <span class="hljs-keyword">let</span> red = (f.<span class="hljs-property">red</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">red</span> : <span class="hljs-number">0</span>,
            green = (f.<span class="hljs-property">green</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">green</span> : <span class="hljs-number">0</span>,
            blue = (f.<span class="hljs-property">blue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blue</span> : <span class="hljs-number">0</span>,
            alpha = (f.<span class="hljs-property">alpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">alpha</span> : <span class="hljs-number">255</span>,
            excludeAlpha = (f.<span class="hljs-property">excludeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">excludeAlpha</span> : <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">reference</span> != <span class="hljs-literal">null</span>) {

            [red, green, blue, alpha] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">reference</span>);

            alpha = <span class="hljs-title function_">_round</span>(alpha * <span class="hljs-number">255</span>);

            f.<span class="hljs-property">red</span> = red;
            f.<span class="hljs-property">green</span> = green;
            f.<span class="hljs-property">blue</span> = blue;
            f.<span class="hljs-property">alpha</span> = alpha;

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">reference</span>;
        }

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">FLOOD</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            red,
            green,
            blue,
            alpha,
            excludeAlpha,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-45">&#x00a7;</a>
              </div>
              <p><strong>gaussianBlur</strong> - from this GitHub repository: <a href="https://github.com/nodeca/glur/blob/master/index.js">https://github.com/nodeca/glur/blob/master/index.js</a> (code accessed 1 June 2021)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">gaussianBlur</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">GAUSSIAN_BLUR</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">radius</span>: (f.<span class="hljs-property">radius</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">radius</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-46">&#x00a7;</a>
              </div>
              <p><strong>glitch</strong> - semi-randomly shift rows left/right</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">glitch</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">GLITCH</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">useMixedChannel</span>: (f.<span class="hljs-property">useMixedChannel</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">useMixedChannel</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">seed</span>: (f.<span class="hljs-property">seed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">seed</span> : <span class="hljs-variable constant_">DEFAULT_SEED</span>,
            <span class="hljs-attr">step</span>: (f.<span class="hljs-property">step</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">step</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetMin</span>: (f.<span class="hljs-property">offsetMin</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetMin</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetMax</span>: (f.<span class="hljs-property">offsetMax</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetMax</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetRedMin</span>: (f.<span class="hljs-property">offsetRedMin</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetRedMin</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetRedMax</span>: (f.<span class="hljs-property">offsetRedMax</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetRedMax</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetGreenMin</span>: (f.<span class="hljs-property">offsetGreenMin</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetGreenMin</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetGreenMax</span>: (f.<span class="hljs-property">offsetGreenMax</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetGreenMax</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetBlueMin</span>: (f.<span class="hljs-property">offsetBlueMin</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetBlueMin</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetBlueMax</span>: (f.<span class="hljs-property">offsetBlueMax</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetBlueMax</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetAlphaMin</span>: (f.<span class="hljs-property">offsetAlphaMin</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetAlphaMin</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetAlphaMax</span>: (f.<span class="hljs-property">offsetAlphaMax</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetAlphaMax</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">transparentEdges</span>: (f.<span class="hljs-property">transparentEdges</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">transparentEdges</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">level</span>: (f.<span class="hljs-property">level</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">level</span> : <span class="hljs-number">0</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-47">&#x00a7;</a>
              </div>
              <p><strong>gray</strong> (new in v8.4.0) - averages the three color channel colors</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">gray</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-48">&#x00a7;</a>
              </div>
              <p><strong>grayscale</strong> - produces a more realistic black-and-white photograph effect</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">grayscale</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">GRAYSCALE</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-49">&#x00a7;</a>
              </div>
              <p><strong>green</strong> - removes red and blue channel color from the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">green</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">excludeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeBlue</span>: <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-50">&#x00a7;</a>
              </div>
              <p><strong>image</strong> (new in v8.4.0) - load an image into the filter engine, where it can then be used by other filter actions - useful for effects such as watermarking an image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">image</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">PROCESS_IMAGE</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">asset</span>: (f.<span class="hljs-property">asset</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">asset</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">width</span>: (f.<span class="hljs-property">width</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">width</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">height</span>: (f.<span class="hljs-property">height</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">height</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">copyWidth</span>: (f.<span class="hljs-property">copyWidth</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">copyWidth</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">copyHeight</span>: (f.<span class="hljs-property">copyHeight</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">copyHeight</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">copyX</span>: (f.<span class="hljs-property">copyX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">copyX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">copyY</span>: (f.<span class="hljs-property">copyY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">copyY</span> : <span class="hljs-number">0</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-51">&#x00a7;</a>
              </div>
              <p><strong>invert</strong> - inverts the colors in the image, producing an effect similar to a photograph negative</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">invert</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">INVERT_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-52">&#x00a7;</a>
              </div>
              <p><strong>magenta</strong> - removes green channel color from the image, and averages the remaining channel colors</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">magenta</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeGreen</span>: <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-53">&#x00a7;</a>
              </div>
              <p><strong>mapToGradient</strong> - produces a more realistic black-and-white photograph effect</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">mapToGradient</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">gradient</span> &amp;&amp; f.<span class="hljs-property">gradient</span>.<span class="hljs-property">substring</span>) f.<span class="hljs-property">gradient</span> = styles[f.<span class="hljs-property">gradient</span>];

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">MAP_TO_GRADIENT</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">useNaturalGrayscale</span>: (f.<span class="hljs-property">useNaturalGrayscale</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">useNaturalGrayscale</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">gradient</span>: f.<span class="hljs-property">gradient</span> || <span class="hljs-title function_">makeGradient</span>(),
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-54">&#x00a7;</a>
              </div>
              <p><strong>matrix</strong> - applies a 3x3 convolution matrix, kernel or mask operation to the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">matrix</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">MATRIX</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">width</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">offsetX</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetY</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">weights</span>: (f.<span class="hljs-property">weights</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">weights</span> : [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-55">&#x00a7;</a>
              </div>
              <p><strong>matrix5</strong> - applies a 5x5 convolution matrix, kernel or mask operation to the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">matrix5</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">MATRIX</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">width</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">offsetX</span>: <span class="hljs-number">2</span>,
            <span class="hljs-attr">offsetY</span>: <span class="hljs-number">2</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">weights</span>: (f.<span class="hljs-property">weights</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">weights</span> : [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-56">&#x00a7;</a>
              </div>
              <p><strong>newsprint</strong> - removes red and green channel color from the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">newsprint</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">NEWSPRINT</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">width</span>: (f.<span class="hljs-property">width</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">width</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-57">&#x00a7;</a>
              </div>
              <p><strong>notblue</strong> - zeroes the blue channel values (not the same effect as the yellow filter)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">notblue</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">SET_CHANNEL_TO_LEVEL</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">level</span>: <span class="hljs-number">0</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-58">&#x00a7;</a>
              </div>
              <p><strong>notgreen</strong> - zeroes the green channel values (not the same effect as the magenta filter)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">notgreen</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">SET_CHANNEL_TO_LEVEL</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">level</span>: <span class="hljs-number">0</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-59">&#x00a7;</a>
              </div>
              <p><strong>notred</strong> - zeroes the red channel values (not the same effect as the cyan filter)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">notred</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">SET_CHANNEL_TO_LEVEL</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">level</span>: <span class="hljs-number">0</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-60">&#x00a7;</a>
              </div>
              <p><strong>offset</strong> (new in v8.4.0) - moves the image in its entirety by the given offset</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">offset</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">OFFSET</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetRedX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetRedY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetGreenX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetGreenY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetBlueX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetBlueY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetAlphaX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetAlphaY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-61">&#x00a7;</a>
              </div>
              <p><strong>offsetChannels</strong> (new in v8.4.0) - moves each channel  by an offset set for that channel. Can create a crude stereoscopic output</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">offsetChannels</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">OFFSET</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetRedX</span>: (f.<span class="hljs-property">offsetRedX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetRedX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetRedY</span>: (f.<span class="hljs-property">offsetRedY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetRedY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetGreenX</span>: (f.<span class="hljs-property">offsetGreenX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetGreenX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetGreenY</span>: (f.<span class="hljs-property">offsetGreenY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetGreenY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetBlueX</span>: (f.<span class="hljs-property">offsetBlueX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetBlueX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetBlueY</span>: (f.<span class="hljs-property">offsetBlueY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetBlueY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetAlphaX</span>: (f.<span class="hljs-property">offsetAlphaX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetAlphaX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetAlphaY</span>: (f.<span class="hljs-property">offsetAlphaY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetAlphaY</span> : <span class="hljs-number">0</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-62">&#x00a7;</a>
              </div>
              <p><strong>pixelate</strong> - averages the colors in a block to produce a series of obscuring tiles. This is a simplified version of the <code>tiles</code> filter</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">pixelate</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">PIXELATE</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">tileWidth</span>: (f.<span class="hljs-property">tileWidth</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">tileWidth</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">tileHeight</span>: (f.<span class="hljs-property">tileHeight</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">tileHeight</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">false</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-63">&#x00a7;</a>
              </div>
              <p><strong>randomNoise</strong> (new in v8.6.0) - creates a stippling effect across the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">randomNoise</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        <span class="hljs-keyword">const</span> noiseType = (<span class="hljs-variable constant_">NOISE_VALUES</span>.<span class="hljs-title function_">includes</span>(f.<span class="hljs-property">noiseType</span>)) ? f.<span class="hljs-property">noiseType</span> : <span class="hljs-variable constant_">RANDOM</span>;

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">RANDOM_NOISE</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">width</span>: (f.<span class="hljs-property">width</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">width</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">height</span>: (f.<span class="hljs-property">height</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">height</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">seed</span>: (f.<span class="hljs-property">seed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">seed</span> : <span class="hljs-variable constant_">DEFAULT_SEED</span>,
            noiseType,
            <span class="hljs-attr">level</span>: (f.<span class="hljs-property">level</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">level</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">noWrap</span>: (f.<span class="hljs-property">noWrap</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">noWrap</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeTransparentPixels</span>: (f.<span class="hljs-property">excludeTransparentPixels</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">excludeTransparentPixels</span> : <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-64">&#x00a7;</a>
              </div>
              <p><strong>red</strong> - removes blue and green channel color from the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">red</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">excludeGreen</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeBlue</span>: <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-65">&#x00a7;</a>
              </div>
              <p><strong>reducePalette</strong> - reduce the number of colors in its palette</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">reducePalette</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        
        <span class="hljs-keyword">let</span> palette = (f.<span class="hljs-property">palette</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">palette</span> : <span class="hljs-variable constant_">BLACK_WHITE</span>;

        f.<span class="hljs-property">actions</span> = [];

        <span class="hljs-keyword">if</span> (palette.<span class="hljs-property">substring</span>) {

            <span class="hljs-keyword">if</span> (palette.<span class="hljs-title function_">includes</span>(<span class="hljs-variable constant_">ARG_SPLITTER</span>)) {

                palette = palette.<span class="hljs-title function_">split</span>(<span class="hljs-variable constant_">ARG_SPLITTER</span>);
                palette.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p.<span class="hljs-title function_">trim</span>());
            }
        }</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-66">&#x00a7;</a>
              </div>
              <p><code>useBluenoise</code> is deprecated</p>
<ul>
<li>use <code>noiseType: &#39;bluenoise&#39;</code> instead</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">let</span> noiseType = (f.<span class="hljs-property">useBluenoise</span>) ? <span class="hljs-variable constant_">BLUENOISE</span> : f.<span class="hljs-property">noiseType</span> || <span class="hljs-variable constant_">RANDOM</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">NOISE_VALUES</span>.<span class="hljs-title function_">includes</span>(noiseType)) noiseType = <span class="hljs-variable constant_">RANDOM</span>;

        f.<span class="hljs-property">actions</span>.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">REDUCE_PALETTE</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">seed</span>: (f.<span class="hljs-property">seed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">seed</span> : <span class="hljs-variable constant_">DEFAULT_SEED</span>,
            <span class="hljs-attr">minimumColorDistance</span>: (f.<span class="hljs-property">minimumColorDistance</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">minimumColorDistance</span> : <span class="hljs-number">1000</span>,
            <span class="hljs-attr">useLabForPaletteDistance</span>: (f.<span class="hljs-property">useLabForPaletteDistance</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">useLabForPaletteDistance</span> : <span class="hljs-literal">false</span>,
            palette,
            noiseType,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
        });
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-67">&#x00a7;</a>
              </div>
              <p><strong>saturation</strong> - alters the saturation level of the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">saturation</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        <span class="hljs-keyword">const</span> level = (f.<span class="hljs-property">level</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">level</span> : <span class="hljs-number">1</span>;

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">MODULATE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">red</span>: level,
            <span class="hljs-attr">green</span>: level,
            <span class="hljs-attr">blue</span>: level,
            <span class="hljs-attr">saturation</span>: <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-68">&#x00a7;</a>
              </div>
              <p><strong>sepia</strong> - recalculates the values of each color channel (a tint action) to create a more ‘antique’ version of the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">sepia</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">TINT_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">redInRed</span>: <span class="hljs-number">0.393</span>,
            <span class="hljs-attr">redInGreen</span>: <span class="hljs-number">0.349</span>,
            <span class="hljs-attr">redInBlue</span>: <span class="hljs-number">0.272</span>,
            <span class="hljs-attr">greenInRed</span>: <span class="hljs-number">0.769</span>,
            <span class="hljs-attr">greenInGreen</span>: <span class="hljs-number">0.686</span>,
            <span class="hljs-attr">greenInBlue</span>: <span class="hljs-number">0.534</span>,
            <span class="hljs-attr">blueInRed</span>: <span class="hljs-number">0.189</span>,
            <span class="hljs-attr">blueInGreen</span>: <span class="hljs-number">0.168</span>,
            <span class="hljs-attr">blueInBlue</span>: <span class="hljs-number">0.131</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-69">&#x00a7;</a>
              </div>
              <p><strong>sharpen</strong> (new in v8.4.0) - applies a preset 3x3 sharpen matrix to the image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">sharpen</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">MATRIX</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">width</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">offsetX</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetY</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">weights</span>: [<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">5</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>],
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-70">&#x00a7;</a>
              </div>
              <p><strong>swirl</strong> - for each pixel, move the pixel radially according to its distance from a given coordinate and associated angle for that coordinate.</p>
<ul>
<li>This filter can handle multiple swirls in a single pass</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">swirl</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        <span class="hljs-keyword">let</span> startX = (f.<span class="hljs-property">startX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">startX</span> : <span class="hljs-title class_">PC50</span>,
            startY = (f.<span class="hljs-property">startY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">startY</span> : <span class="hljs-title class_">PC50</span>,
            innerRadius = (f.<span class="hljs-property">innerRadius</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">innerRadius</span> : <span class="hljs-number">0</span>,
            outerRadius = (f.<span class="hljs-property">outerRadius</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">outerRadius</span> : <span class="hljs-title class_">PC30</span>,
            angle = (f.<span class="hljs-property">angle</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">angle</span> : <span class="hljs-number">0</span>,
            easing = (f.<span class="hljs-property">easing</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">easing</span> : <span class="hljs-variable constant_">LINEAR</span>,
            staticSwirls = (f.<span class="hljs-property">staticSwirls</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">staticSwirls</span> : [];

        <span class="hljs-keyword">const</span> swirls = [...staticSwirls];
        swirls.<span class="hljs-title function_">push</span>([startX, startY, innerRadius, outerRadius, angle, easing]);

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">SWIRL</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            swirls, 
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-71">&#x00a7;</a>
              </div>
              <p><strong>threshold</strong> - creates a duotone effect - grayscales the input then, for each pixel, checks the color channel values against a “level” argument: pixels with channel values above the level value are assigned to the ‘high’ color; otherwise they are updated to the ‘low’ color.</p>
<ul>
<li>Since v8.7.0, this filter also accepts <code>lowColor</code> and <code>highColor</code> CSS color Strings in place of the <code>lowRed, lowGreen, lowBlue, highRed, highGreen, highBlue</code> values</li>
</ul>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">threshold</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        <span class="hljs-keyword">let</span> lowRed = (f.<span class="hljs-property">lowRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowRed</span> : <span class="hljs-number">0</span>,
            lowGreen = (f.<span class="hljs-property">lowGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowGreen</span> : <span class="hljs-number">0</span>,
            lowBlue = (f.<span class="hljs-property">lowBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowBlue</span> : <span class="hljs-number">0</span>,
            lowAlpha = (f.<span class="hljs-property">lowAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lowAlpha</span> : <span class="hljs-number">255</span>,
            highRed = (f.<span class="hljs-property">highRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highRed</span> : <span class="hljs-number">255</span>,
            highGreen = (f.<span class="hljs-property">highGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highGreen</span> : <span class="hljs-number">255</span>,
            highBlue = (f.<span class="hljs-property">highBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highBlue</span> : <span class="hljs-number">255</span>,
            highAlpha = (f.<span class="hljs-property">highAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">highAlpha</span> : <span class="hljs-number">255</span>;
            
        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">lowColor</span> != <span class="hljs-literal">null</span>) {

            [lowRed, lowGreen, lowBlue, lowAlpha] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">lowColor</span>);

            lowAlpha = <span class="hljs-title function_">_round</span>(lowAlpha * <span class="hljs-number">255</span>);

            f.<span class="hljs-property">lowRed</span> = lowRed;
            f.<span class="hljs-property">lowGreen</span> = lowGreen;
            f.<span class="hljs-property">lowBlue</span> = lowBlue;
            f.<span class="hljs-property">lowAlpha</span> = lowAlpha;

            f.<span class="hljs-property">low</span> = [lowRed, lowGreen, lowBlue, lowAlpha];

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">lowColor</span>;
        }

        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">highColor</span> != <span class="hljs-literal">null</span>) {
            
            [highRed, highGreen, highBlue, highAlpha] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">highColor</span>);

            highAlpha = <span class="hljs-title function_">_round</span>(highAlpha * <span class="hljs-number">255</span>);

            f.<span class="hljs-property">highRed</span> = highRed;
            f.<span class="hljs-property">highGreen</span> = highGreen;
            f.<span class="hljs-property">highBlue</span> = highBlue;
            f.<span class="hljs-property">highAlpha</span> = highAlpha;

            f.<span class="hljs-property">high</span> = [highRed, highGreen, highBlue, highAlpha];

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">highColor</span>;
        }

        <span class="hljs-keyword">let</span> low = (f.<span class="hljs-property">low</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">low</span> : [lowRed, lowGreen, lowBlue, lowAlpha],
            high = (f.<span class="hljs-property">high</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">high</span> : [highRed, highGreen, highBlue, highAlpha];

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">THRESHOLD</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">level</span>: (f.<span class="hljs-property">level</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">level</span> : <span class="hljs-number">128</span>,
            <span class="hljs-attr">red</span>: (f.<span class="hljs-property">red</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">red</span> : <span class="hljs-number">128</span>,
            <span class="hljs-attr">green</span>: (f.<span class="hljs-property">green</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">green</span> : <span class="hljs-number">128</span>,
            <span class="hljs-attr">blue</span>: (f.<span class="hljs-property">blue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blue</span> : <span class="hljs-number">128</span>,
            <span class="hljs-attr">alpha</span>: (f.<span class="hljs-property">alpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">alpha</span> : <span class="hljs-number">128</span>,
            low,
            high,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">false</span>,
            <span class="hljs-attr">useMixedChannel</span>: (f.<span class="hljs-property">useMixedChannel</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">useMixedChannel</span> : <span class="hljs-literal">true</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-72">&#x00a7;</a>
              </div>
              <p><strong>tiles</strong> - averages the colors in a group of pixels to produce a series of obscuring tiles. This is a more complex version of the <code>pixelate</code> filter</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">tiles</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">TILES</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">tileWidth</span>: (f.<span class="hljs-property">tileWidth</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">tileWidth</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">tileHeight</span>: (f.<span class="hljs-property">tileHeight</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">tileHeight</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">tileRadius</span>: (f.<span class="hljs-property">tileRadius</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">tileRadius</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">offsetX</span>: (f.<span class="hljs-property">offsetX</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetX</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetY</span>: (f.<span class="hljs-property">offsetY</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">offsetY</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">angle</span>: (f.<span class="hljs-property">angle</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">angle</span> : <span class="hljs-number">0</span>,
            <span class="hljs-attr">points</span>: (f.<span class="hljs-property">points</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">points</span> : <span class="hljs-variable constant_">RECT_GRID</span>,
            <span class="hljs-attr">seed</span>: (f.<span class="hljs-property">seed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">seed</span> : <span class="hljs-variable constant_">DEFAULT_SEED</span>,
            <span class="hljs-attr">includeRed</span>: (f.<span class="hljs-property">includeRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeRed</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: (f.<span class="hljs-property">includeGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeGreen</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeBlue</span>: (f.<span class="hljs-property">includeBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeBlue</span> : <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeAlpha</span>: (f.<span class="hljs-property">includeAlpha</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">includeAlpha</span> : <span class="hljs-literal">false</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-73">&#x00a7;</a>
              </div>
              <p><strong>tint</strong> - has similarities to the SVG &lt;feColorMatrix&gt; filter element, but excludes the alpha channel from calculations. Rather than set a matrix, we set nine arguments to determine how the value of each color channel in a pixel will affect both itself and its fellow color channels.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">tint</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {

        <span class="hljs-keyword">let</span> redInRed = (f.<span class="hljs-property">redInRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">redInRed</span> : <span class="hljs-number">1</span>,
            redInGreen = (f.<span class="hljs-property">redInGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">redInGreen</span> : <span class="hljs-number">0</span>,
            redInBlue = (f.<span class="hljs-property">redInBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">redInBlue</span> : <span class="hljs-number">0</span>,
            greenInRed = (f.<span class="hljs-property">greenInRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">greenInRed</span> : <span class="hljs-number">0</span>,
            greenInGreen = (f.<span class="hljs-property">greenInGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">greenInGreen</span> : <span class="hljs-number">1</span>,
            greenInBlue = (f.<span class="hljs-property">greenInBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">greenInBlue</span> : <span class="hljs-number">0</span>,
            blueInRed = (f.<span class="hljs-property">blueInRed</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blueInRed</span> : <span class="hljs-number">0</span>,
            blueInGreen = (f.<span class="hljs-property">blueInGreen</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blueInGreen</span> : <span class="hljs-number">0</span>,
            blueInBlue = (f.<span class="hljs-property">blueInBlue</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">blueInBlue</span> : <span class="hljs-number">1</span>;
            
        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">redColor</span> != <span class="hljs-literal">null</span>) {

            [redInRed, greenInRed, blueInRed] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">redColor</span>);

            redInRed /= <span class="hljs-number">255</span>;
            greenInRed /= <span class="hljs-number">255</span>;
            blueInRed /= <span class="hljs-number">255</span>;

            f.<span class="hljs-property">redInRed</span> = redInRed;
            f.<span class="hljs-property">greenInRed</span> = greenInRed;
            f.<span class="hljs-property">blueInRed</span> = blueInRed;

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">redColor</span>;
        }

        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">greenColor</span> != <span class="hljs-literal">null</span>) {
            
            [redInGreen, greenInGreen, blueInGreen] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">greenColor</span>);

            redInGreen /= <span class="hljs-number">255</span>;
            greenInGreen /= <span class="hljs-number">255</span>;
            blueInGreen /= <span class="hljs-number">255</span>;

            f.<span class="hljs-property">redInGreen</span> = redInGreen;
            f.<span class="hljs-property">greenInGreen</span> = greenInGreen;
            f.<span class="hljs-property">blueInGreen</span> = blueInGreen;

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">greenColor</span>;
        }

        <span class="hljs-keyword">if</span> (f.<span class="hljs-property">blueColor</span> != <span class="hljs-literal">null</span>) {
            
            [redInBlue, greenInBlue, blueInBlue] = colorEngine.<span class="hljs-title function_">extractRGBfromColor</span>(f.<span class="hljs-property">blueColor</span>);

            redInBlue /= <span class="hljs-number">255</span>;
            greenInBlue /= <span class="hljs-number">255</span>;
            blueInBlue /= <span class="hljs-number">255</span>;

            f.<span class="hljs-property">redInBlue</span> = redInBlue;
            f.<span class="hljs-property">greenInBlue</span> = greenInBlue;
            f.<span class="hljs-property">blueInBlue</span> = blueInBlue;

            <span class="hljs-keyword">delete</span> f.<span class="hljs-property">blueColor</span>;
        }

        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">TINT_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            redInRed,
            redInGreen,
            redInBlue,
            greenInRed,
            greenInGreen,
            greenInBlue,
            blueInRed,
            blueInGreen,
            blueInBlue,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-74">&#x00a7;</a>
              </div>
              <p><strong>userDefined</strong> - DEPRECATED - this filter method no longer has any effect, returning an unchanged image</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">userDefined</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">USER_DEFINED_LEGACY</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
        }];
    },</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-75">&#x00a7;</a>
              </div>
              <p><strong>yellow</strong> - removes blue channel color from the image, and averages the remaining channel colors</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-attr">yellow</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">f</span>) {
        f.<span class="hljs-property">actions</span> = [{
            <span class="hljs-attr">action</span>: <span class="hljs-variable constant_">AVERAGE_CHANNELS</span>,
            <span class="hljs-attr">lineIn</span>: (f.<span class="hljs-property">lineIn</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineIn</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">lineOut</span>: (f.<span class="hljs-property">lineOut</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">lineOut</span> : <span class="hljs-variable constant_">ZERO_STR</span>,
            <span class="hljs-attr">opacity</span>: (f.<span class="hljs-property">opacity</span> != <span class="hljs-literal">null</span>) ? f.<span class="hljs-property">opacity</span> : <span class="hljs-number">1</span>,
            <span class="hljs-attr">includeRed</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">includeGreen</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">excludeBlue</span>: <span class="hljs-literal">true</span>,
        }];
    },
});</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-76">&#x00a7;</a>
              </div>
              <h4 id="prototype-functions">Prototype functions</h4>
<p>No additional prototype functions defined</p>

            </div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-77">&#x00a7;</a>
              </div>
              <h4 id="factory">Factory</h4>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> makeFilter = <span class="hljs-keyword">function</span> (<span class="hljs-params">items</span>) {

    <span class="hljs-keyword">if</span> (!items) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Filter</span>(items);
};

constructors.<span class="hljs-property">Filter</span> = <span class="hljs-title class_">Filter</span>;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
